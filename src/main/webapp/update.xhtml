<!DOCTYPE html>
<html 
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">
	
	<h:head>
		<title>Update#{konfig.suffixTitle}</title>
		<f:event type="preRenderView" listener="#{konfig.addHeader}" />
		<link rel="icon" type="image/png" href="#{resource['/img/favicon.png']}" />
		<h:outputStylesheet library="css" name="#{konfig.css}" />
	</h:head>
	
	<h:body style="background-color:#{themeService.backgroundColor};">
		<p:growl id="message" showDetail="true"/>
		
		<p:panel id="alles" style="margin: auto; width:1000px; height:1000px; background-color:#{themeService.panelColor};">
		
			<br/><br/><br/><br/><br/><br/><br/><br/>
			
			<div style="text-align:center">
			
				<h:panelGroup layout="block" rendered="#{updateBean.needUpdate}">
					<h1 class="title">Ein Update wird durchgef√ºhrt.</h1>
				</h:panelGroup>
				<h:form>
					<p:poll interval="2" listener="#{updateBean.poll}" update="button"/>
				</h:form>
				
				<br/><br/><br/>
				
				<h:panelGroup id="button" layout="block">
					<h:panelGroup layout="block" rendered="#{updateBean.needUpdate}">
						<h2 class="title">Sie werden automatisch weitergeleitet, sobald das Update fertig ist.</h2>
					</h:panelGroup>
					<h:panelGroup layout="block" rendered="#{!updateBean.needUpdate}">
						<h1 class="title">Update ist fertig!</h1>
					</h:panelGroup>
					<br/><br/>
					<p:button href="home.xhtml" value="Hier gehts zur Homepage" rendered="#{!updateBean.needUpdate}" style="font-size:20pt"/>
				</h:panelGroup>
			</div>
		</p:panel>
	</h:body>
</html>
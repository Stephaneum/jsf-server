<!DOCTYPE html>
<html 
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">

	<h:head>
		<title>Beiträge#{konfig.suffixTitle}</title>
		<f:metadata>
    		<f:viewAction action="#{weiterleitung.login}" />
		</f:metadata>
		<f:event type="preRenderView" listener="#{konfig.addHeader}" />
		<link rel="icon" type="image/png" href="#{resource['/img/favicon.png']}" />
		<h:outputStylesheet library="css" name="#{konfig.css}" />
		<h:outputScript library="js" name="topMenu.js" />
		<h:outputScript library="js" name="topMenuChoose.js" />
		<style>
			a:hover {
				color: green; /* Vorschau */
			}
			.not-selected {
			    opacity: 0.5;
			    filter: alpha(opacity=50); /* For IE8 and earlier */
			}
			.layout-div {
				width: 200px;
				display: inline-block;
			    margin-left: 20px;
			}
			.layout-div:hover {
				opacity: 1;
			    filter: alpha(opacity=100); /* For IE8 and earlier */
			    cursor: pointer;
			}
		</style>
		<script>
			function scrollTop() {
				if(jQuery('#scroll-check').text() == 'true') {
					$('body,html').animate({
						scrollTop: 0
					}, 800);
				}
			}
			
			function scrollOpenBeitrag() {
				$('body,html').animate({
					scrollTop: 850
				}, 800);
			}
			
			function scrollOpenBeitragApprove() {
				$('body,html').animate({
					scrollTop: 650
				}, 800);
			}
		</script>
	</h:head>
	
	<h:body style="background-color:#{themeService.backgroundColor};">
		<p:growl id="message" showDetail="true"/>
		
		<p:confirmDialog global="true">
			<div style="text-align:center">
				<p:commandButton value="Nein" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
				<p:commandButton value="Ja" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
			</div>
		</p:confirmDialog>

		<div id="hidden-div">
		
<!-- Side Menu -->
			<h:form style="position:fixed;">
				<p:menu model="#{sideMenu.model}" style="font-size:11pt;width:160px;"/>
			</h:form>
		
			<p:panel id="big-div" rendered="#{konfig.loggedIn}">
					
<!-- Top Menu -->
				<h:form>
					<p:menubar styleClass="centeredMenuBar ui-widget-header ui-corner-all" model="#{topMenu.model}"
								style="top:0px;width:953px;position:fixed;transform: translateX(0%);z-index:+99;height:25px;" />
				</h:form>
				
				<br/><br/><br/>
				<h2 class="title" style="color:#4c4c4c;">Beiträge für unsere Homepage</h2>
				<br/>

				<p:panel style="margin-bottom: 40px">
					<div style="text-align: center; margin: 30px">
						<span style="margin-right: 20px">Jetzt die neue Beta ausprobieren:</span>
						<p:commandButton value="Hier klicken" action="#{postManager.toBeta}" onstart="PF('overlayBeta').show()" />
					</div>
				</p:panel>
				
<!-- Ab hier beginnen die Beiträge -->
	
				<p:panel id="beitrag" header="Beitrag erstellen">
					
					<f:facet name="header">
						<p:outputLabel value="Modus:"/>
	                    <p:commandButton value="Erstellen" action="#{postManager.select(0)}" rendered="#{createPost.adminMode or createPost.rubrik != null}" disabled="#{postManager.selectID eq 0}" update="beitrag" oncomplete="bindStyles();openNewAdmin();" style="margin-left:30px"/>
	                    <p:commandButton value="Bearbeiten/Löschen" action="#{postManager.select(1)}" rendered="#{createPost.adminMode}" disabled="#{postManager.selectID eq 1}" update="beitrag" oncomplete="bindStyles();openEdit();" style="margin-left:10px"/>
	                    <p:commandButton value="Bearbeiten/Löschen (Ihre Rubrik)" action="#{postManager.select(1)}" rendered="#{createPost.rubrik != null}" disabled="#{postManager.selectID eq 1}" update="beitrag" oncomplete="bindStyles();openEdit();" style="margin-left:10px"/>
	                    
	                    <p:commandButton value="Genehmigen" action="#{postManager.select(2)}" rendered="#{(createPost.adminMode) and approvePost.beitragLength eq 0}" disabled="#{postManager.selectID eq 2}" update="beitrag" oncomplete="openApprove();" style="margin-left:10px"/>
	                    <p:commandButton value="Genehmigen (#{approvePost.beitragLength})" action="#{postManager.select(2)}" rendered="#{(createPost.adminMode) and !(approvePost.beitragLength eq 0)}" disabled="#{postManager.selectID eq 2}" update="beitrag" oncomplete="openApprove();" style="margin-left:10px"/>
	                    
	                    <p:commandButton value="Erstellen" action="#{postManager.select(3)}" rendered="#{!createPost.adminMode and createPost.rubrik == null}" disabled="#{postManager.selectID eq 3}" update="beitrag" style="margin-left:30px"/>
	                    <p:commandButton value="Bearbeiten/Löschen" action="#{postManager.select(4)}" rendered="#{!createPost.adminMode and createPost.rubrik == null}" disabled="#{postManager.selectID eq 4}" update="beitrag" style="margin-left:10px"/>
	                    <p:commandButton value="Bearbeiten/Löschen (nicht genehmigt)" action="#{postManager.select(4)}" rendered="#{!createPost.adminMode and createPost.rubrik != null}" disabled="#{postManager.selectID eq 4}" update="beitrag" style="margin-left:10px"/>
	                    
	                    <p:commandButton value="Spezielle Texte" action="#{postManager.select(5)}" rendered="#{createPost.realAdmin}" disabled="#{postManager.selectID eq 5}" update="beitrag" oncomplete="bindStyles()" style="margin-left:10px"/>
	                </f:facet>
	                
	                <div style="display: none;">
	                	<p:outputLabel id="scroll-check" value="#{postManagerJS.scrollUp}"/>
	                </div>
	                
	<!-- Ab hier beginnt cms.CreatePost (BEITRAG ERSTELLEN, ADMIN-ONLY) -->
		
					<h:form id="newAdmin" rendered="#{postManager.selectID eq 0}">
						
						<h2 class="title" style="color:#4c4c4c;">Titel und Textinhalt</h2>
					
						<p:inputText value="#{createPost.titel}" style="width:910px" autocomplete="off" placeholder="Titel"/>
						
						<br/><br/>
						
						<p:textEditor value="#{createPost.text}" height="500" style="margin-bottom:10px" placeholder="Textinhalt">
						    <f:facet name="toolbar">
						        <span class="ql-formats">
						            <button class="ql-bold"></button>
						            <button class="ql-italic"></button>
						            <button class="ql-underline"></button>
						            <button class="ql-strike"></button>
						        </span>
						        <span class="ql-formats">
						        	<select class="ql-color"></select>
						            <select class="ql-background"></select>
						        </span>
						        <span class="ql-formats">
						        	<button class="ql-script" value="sub"></button>
						            <button class="ql-script" value="super"></button>
						        </span>
						        <span class="ql-formats">
						            <select class="ql-font"></select>
						            <select class="ql-size"></select>
						        </span>
						        <span class="ql-formats">
						        	<button class="ql-header" value="1"></button>
						            <button class="ql-header" value="2"></button>
						        </span>
						        <span class="ql-formats">
						        	<button class="ql-list" value="ordered"></button>
						            <button class="ql-list" value="bullet"></button>
						            <select class="ql-align"></select>
						        </span>
						        <span class="ql-formats">
						        	<button class="ql-indent" value="-1"></button>
						            <button class="ql-indent" value="+1"></button>
						        </span>
						        <span class="ql-formats">
						        	<button class="ql-link"></button>
						        	<button class="ql-clean"></button>
						        </span>
						    </f:facet>
						</p:textEditor>
						
						<br/>
						
						<hr/>
					
						<h:panelGroup layout="block" rendered="#{createPost.rubrik == null}">
							<h2 class="title" style="color:#4c4c4c;">Zuordnung</h2>
						</h:panelGroup>
						<h:panelGroup layout="block" rendered="#{createPost.rubrik != null}">
							<h2 class="title" style="color:#4c4c4c;">Zuordnung (optional)</h2>
						</h:panelGroup>
						
						<p:menubar styleClass="ui-widget-header ui-corner-all" style="width:800px;margin-left:50px" model="#{zuordnungFinder.model}" />
						<p:remoteCommand name="chooseNewAdmin" update="@form" oncomplete="bindStyles()" actionListener="#{zuordnungFinder.choose}" />
						
						<br/>
						
						<p:outputLabel style="margin-left:50px" value="ausgewählt: "/>
						<p:outputLabel style="font-weight: bold;" value="#{zuordnungFinder.selectedGruppe.name}"/>
						
						<h:panelGroup layout="block" rendered="#{createPost.rubrik != null}">
							<br/><br/>
							<p:outputLabel style="margin-left:50px" value="Da Sie für eine Rubrik verantwortlich sind, werden Beiträge in Ihrer Rubrik "/>
							<p:outputLabel style="font-weight: bold;" value="sofort"/>
							<p:outputLabel value=" freigeschaltet."/>
							<br/>
							<p:outputLabel style="margin-left:50px" value="Wenn Sie die Zuordnung frei lassen, wartet dieser Beitrag auf die Genehmigung des Admins."/>
						</h:panelGroup>
						
						<br/><br/><hr/>
						
						<h2 class="title" style="color:#4c4c4c;">Eigenschaften</h2>
						
						<h:panelGrid columns="2" style="margin-left:50px">
							<p:outputLabel value="Autor anzeigen:"/>
							<p:selectBooleanButton value="#{createPost.showAutor}" onLabel="ja" offLabel="nein" onIcon="ui-icon-check" offIcon="ui-icon-close" style="width:90px;margin-left:20px" />
							
							<p:outputLabel value="Länge der Vorschau:"/>
							<p:inputNumber value="#{createPost.vorschauLength}" symbol=" Zeichen" decimalPlaces="0" symbolPosition="s" thousandSeparator="" style="margin-left:20px"/>
						</h:panelGrid>
						
						<br/><hr/>
					
						<h2 class="title" style="color:#4c4c4c;">Layout</h2>
						
						<div class="ui-g">
				    		<div class="ui-g-2">
				    			<br/><br/><br/><br/><p:outputLabel value="Beitrag" style="margin-left:50px;"/>
				    		</div>
				    		<div class="ui-g-10">
				    			<div onclick="rcNewAdminLB0()" class="layout-div #{createPost.layout.styleClassBeitrag0}" style="background-image: url(resources/img/layout_beitrag_0.png); height:200px;" />
			    				<div onclick="rcNewAdminLB1()" class="layout-div #{createPost.layout.styleClassBeitrag1}" style="background-image: url(resources/img/layout_beitrag_1.png); height:200px;" />
								<div onclick="rcNewAdminLB2()" class="layout-div #{createPost.layout.styleClassBeitrag2}" style="background-image: url(resources/img/layout_beitrag_2.png); height:200px;" />
				    		</div>
			    		</div>
			    		
			    		<div class="ui-g">
				    		<div class="ui-g-2">
				    			<br/><br/><p:outputLabel value="Vorschau" style="margin-left:50px;"/>
				    		</div>
				    		<div class="ui-g-10">
				    			<div onclick="rcNewAdminLV0()" class="layout-div #{createPost.layout.styleClassVorschau0}" style="background-image: url(resources/img/layout_vorschau_0.png); height:100px;" />
			    				<div onclick="rcNewAdminLV1()" class="layout-div #{createPost.layout.styleClassVorschau1}" style="background-image: url(resources/img/layout_vorschau_1.png); height:100px;" />
								<div onclick="rcNewAdminLV2()" class="layout-div #{createPost.layout.styleClassVorschau2}" style="background-image: url(resources/img/layout_vorschau_2.png); height:100px;" />
				    		</div>
			    		</div>
			    		
			    		<br/><hr/>
						
						<br/>
						
						<p:remoteCommand name="rcNewAdminLB0" actionListener="#{createPost.layout.selectLayoutBeitrag(0)}" update="newAdmin message" oncomplete="bindStyles()"/>
						<p:remoteCommand name="rcNewAdminLB1" actionListener="#{createPost.layout.selectLayoutBeitrag(1)}" update="newAdmin message" oncomplete="bindStyles()"/>
						<p:remoteCommand name="rcNewAdminLB2" actionListener="#{createPost.layout.selectLayoutBeitrag(2)}" update="newAdmin message" oncomplete="bindStyles()"/>
						<p:remoteCommand name="rcNewAdminLV0" actionListener="#{createPost.layout.selectLayoutVorschau(0)}" update="newAdmin message" oncomplete="bindStyles()"/>
						<p:remoteCommand name="rcNewAdminLV1" actionListener="#{createPost.layout.selectLayoutVorschau(1)}" update="newAdmin message" oncomplete="bindStyles()"/>
						<p:remoteCommand name="rcNewAdminLV2" actionListener="#{createPost.layout.selectLayoutVorschau(2)}" update="newAdmin message" oncomplete="bindStyles()"/>
						
						<p:remoteCommand name="rcNewAdminVorschau" actionListener="#{createPost.prepareVorschau}" oncomplete="PF('overlayVorschau').show()" update="panelVorschau"/>
						<p:remoteCommand name="rcNewAdmin" update="beitrag message" actionListener="#{createPost.create}"
											onstart="PF('overlayLoad').show()" oncomplete="PF('overlayLoad').hide();bindStyles();scrollTop();"/>
					</h:form>
					
					<h:form enctype="multipart/form-data" id="newAdminFiles" rendered="#{postManager.selectID eq 0}">
						<h2 class="title" style="color:#4c4c4c;display: inline-block;">Bilder</h2>
						
						<p:selectBooleanButton value="#{createPost.fileHandler.vorschauAnsicht}" update="newAdminFiles" onLabel="Bilder-Ansicht" offLabel="Info-Ansicht" onIcon="ui-icon-image" offIcon="ui-icon-contact"
												style="margin-top:-100px;margin-left:40px;width:180px">
							<p:ajax update="newAdminFiles" listener="#{konfig.toggle}" />
						</p:selectBooleanButton>
						<h:panelGrid columns="2">
							<!--  Bilder  -->
							<p:outputLabel/>
							
							<p:scrollPanel mode="native" style="margin-left:50px;width:770px;height:300px">
								<p:dataTable value="#{createPost.fileHandler.filesAdded}" var="r" rendered="#{!createPost.fileHandler.vorschauAnsicht}" emptyMessage="Keine Dateien ausgewählt">
									<p:column headerText="Dateiname">
										<h:graphicImage value="/images/?id=#{r.datei_name_mit_id}" width="140"/>
										#{r.datei_name}
									</p:column>
								
									<p:column style="text-align: center;" headerText="Hochladedatum">
										#{r.datum}
									</p:column>
									
									<p:column style="text-align: center;" headerText="Größe">
										#{r.size}
									</p:column>
									
									<p:column style="text-align: center;" headerText="Von">
										#{r.eigtum}
									</p:column>
									
									<p:column headerText="Aktionen">
										<p:commandButton value="Entfernen" action="#{createPost.removeFile(r)}" update="newAdminFiles"/>
									</p:column>
								</p:dataTable>
								<p:dataTable value="#{createPost.fileHandler.bildReiheAdded}" var="r" rendered="#{createPost.fileHandler.vorschauAnsicht}" emptyMessage="Keine Dateien ausgewählt">
									<p:column style="text-align: center;">
										<p:commandLink update="newAdminFiles" action="#{createPost.removeFile(r.bilder[0])}">
											<h:graphicImage rendered="#{not empty r.bilder[0]}" value="/images/?id=#{r.bilder[0].datei_name_mit_id}" width="140"/>
										</p:commandLink>
										
										<p:outputLabel rendered="#{not empty r.bilder[0]}" value="#{r.bilder[0].datei_name}"/>
									</p:column>
								
									<p:column style="text-align: center;">
										<p:commandLink update="newAdminFiles" action="#{createPost.removeFile(r.bilder[1])}">
											<h:graphicImage rendered="#{not empty r.bilder[1]}" value="/images/?id=#{r.bilder[1].datei_name_mit_id}" width="140"/>
										</p:commandLink>
										<p:outputLabel rendered="#{not empty r.bilder[1]}" value="#{r.bilder[1].datei_name}"/>
									</p:column>
									
									<p:column style="text-align: center;">
										<p:commandLink update="newAdminFiles" action="#{createPost.removeFile(r.bilder[2])}">
											<h:graphicImage rendered="#{not empty r.bilder[2]}" value="/images/?id=#{r.bilder[2].datei_name_mit_id}" width="140"/>
										</p:commandLink>
										
										<p:outputLabel rendered="#{not empty r.bilder[2]}" value="#{r.bilder[2].datei_name}"/>
									</p:column>
									
									<p:column style="text-align: center;">
										<p:commandLink update="newAdminFiles" action="#{createPost.removeFile(r.bilder[3])}">
											<h:graphicImage rendered="#{not empty r.bilder[3]}" value="/images/?id=#{r.bilder[3].datei_name_mit_id}" width="140"/>
										</p:commandLink>
										<p:outputLabel rendered="#{not empty r.bilder[3]}" value="#{r.bilder[3].datei_name}"/>
									</p:column>
								</p:dataTable>
							</p:scrollPanel>
							<p:outputLabel value="angehängte Bilder"/>
							
							<p:fileUpload fileUploadListener="#{createPost.upload}" style="margin-left:50px"
									update="newAdminFiles message" mode="advanced" dragDropSupport="true"  label="Datei auswählen"
									uploadLabel="Hochladen" cancelLabel="Abbrechen"
									allowTypes="/(\.|\/)(gif|png|jpg|jpeg|bmp)$/"
									multiple="true" sequential="true"
									invalidFileMessage="Nur gif-, png-, bmp- und jpg-Dateien sind erlaubt"/>
							<p:outputLabel value="neues Bild hochladen"/>
							
							<p:dataTable value="#{createPost.fileHandler.filesAvailable}" var="r" rendered="#{!createPost.fileHandler.vorschauAnsicht}" emptyMessage="Keine Dateien vorhanden"
									style="margin-left:50px;width:770" scrollRows="5" scrollable="true" liveScroll="true" scrollHeight="300">
								<p:column headerText="Datei">
									<h:graphicImage value="/images/?id=#{r.datei_name_mit_id}" width="140"/>
									#{r.datei_name}
								</p:column>
							
								<p:column style="text-align: center;" headerText="Hochladedatum">
									#{r.datum}
								</p:column>
								
								<p:column style="text-align: center;" headerText="Größe">
									#{r.size}
								</p:column>
								
								<p:column style="text-align: center;" headerText="Von">
									#{r.eigtum}
								</p:column>
								
								<p:column headerText="Aktionen">
								<p:commandButton value="Hinzufügen" action="#{createPost.addFile(r)}" update="newAdminFiles"/>
							</p:column>
							</p:dataTable>
							<p:dataTable value="#{createPost.fileHandler.bildReiheAvailable}" var="r" rendered="#{createPost.fileHandler.vorschauAnsicht}" emptyMessage="Keine Dateien vorhanden"
									style="margin-left:50px;width:770" scrollRows="2" scrollable="true" liveScroll="true" scrollHeight="300">
								<p:column style="text-align: center;" width="140">
									<p:commandLink update="newAdminFiles" action="#{createPost.addFile(r.bilder[0])}">
										<h:graphicImage rendered="#{not empty r.bilder[0]}" value="/images/?id=#{r.bilder[0].datei_name_mit_id}" width="140"/>
									</p:commandLink>
									<br/>
									<p:outputLabel rendered="#{not empty r.bilder[0]}" value="#{r.bilder[0].datei_name}"/>
								</p:column>
							
								<p:column style="text-align: center;" width="140">
									<p:commandLink update="newAdminFiles" action="#{createPost.addFile(r.bilder[1])}">
										<h:graphicImage rendered="#{not empty r.bilder[1]}" value="/images/?id=#{r.bilder[1].datei_name_mit_id}" width="140"/>
									</p:commandLink>
									<br/>
									<p:outputLabel rendered="#{not empty r.bilder[1]}" value="#{r.bilder[1].datei_name}"/>
								</p:column>
								
								<p:column style="text-align: center;" width="140">
									<p:commandLink update="newAdminFiles" action="#{createPost.addFile(r.bilder[2])}">
										<h:graphicImage rendered="#{not empty r.bilder[2]}" value="/images/?id=#{r.bilder[2].datei_name_mit_id}" width="140"/>
									</p:commandLink>
									<br/>
									<p:outputLabel rendered="#{not empty r.bilder[2]}" value="#{r.bilder[2].datei_name}"/>
								</p:column>
								
								<p:column style="text-align: center;" width="140">
									<p:commandLink update="newAdminFiles" action="#{createPost.addFile(r.bilder[3])}">
										<h:graphicImage rendered="#{not empty r.bilder[3]}" value="/images/?id=#{r.bilder[3].datei_name_mit_id}" width="140"/>
									</p:commandLink>
									<br/>
									<p:outputLabel rendered="#{not empty r.bilder[3]}" value="#{r.bilder[3].datei_name}"/>
								</p:column>
							</p:dataTable>
							<p:outputLabel value="verfügbare Bilder"/>
						</h:panelGrid>
						
						<br/><br/>
						
						<hr/>
						
						<br/>
						
						<div align="right">
							<p:commandButton style="margin-right:20px;flow:left;" type="button" onclick="rcNewAdminVorschau()" value="Vorschau anzeigen" icon="fa fa-eye" />
							<p:commandButton style="margin-right:90px" type="button" onclick="rcNewAdmin()" value="Beitrag erstellen" icon="ui-icon-pencil"/>
						</div>
						<br/>
						<p:outputLabel style="margin-left:50px;color:red;" value="#{createPost.hint}" rendered="#{not empty createPost.hint}"/>
					</h:form>
					
	<!-- Ab hier beginnt cms.EditPost (BEITRAG BEARBEITEN / LOESCHEN, ADMIN-ONLY) -->
					
					<h:form id="editChoose" rendered="#{postManager.selectID eq 1}">
					
						<h2 class="title" style="color:#4c4c4c;">Auswahl</h2>
						
						<p:menubar styleClass="ui-widget-header ui-corner-all" style="width:800px;margin-left:50px" model="#{zuordnungFinder.model}" />
						<p:remoteCommand name="chooseEdit" update="beitrag" oncomplete="bindStyles()" actionListener="#{zuordnungFinder.choose}" />
						<br/>
						
						<p:outputLabel style="margin-left:100px" value="ausgewählt: "/>
						<p:outputLabel style="font-weight: bold;" value="#{zuordnungFinder.selectedGruppe.name}"/>
						<br/><br/>
						<p:dataTable value="#{editPost.beitrag}" var="r" emptyMessage="Keine Gruppe ausgewählt oder keine Beiträge vorhanden"
									style="margin-left:50px;width:813px;height:450px"
		                         	paginator="true"
		                         	paginatorPosition="bottom"
		                         	paginatorTemplate="{FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink}"
		                         	rows="5">
							<p:column headerText="Titel" style="text-align:center;#{r.stylePassword}" width="220">
								#{r.titel}
							</p:column>
						
							<p:column headerText="Datum" style="text-align:center;#{r.stylePassword}" width="120">
								#{r.datum}
							</p:column>
							
							<p:column headerText="Von" style="text-align:center;#{r.stylePassword}" width="180">
								#{r.nutzer.vorname} #{r.nutzer.nachname}
							</p:column>
							
							<p:column headerText="Aktionen" style="text-align:center;#{r.stylePassword}" width="180">
								<p:commandButton id="btnPassword" action="#{editPost.togglePassword(r)}" oncomplete="bindStyles(); if(#{!r.password}) {PF('overlayPassword').show()}" icon="#{r.passwordSymbol}" update="@form message"/>
								<p:tooltip for="btnPassword" value="Passwort" position="top"/>
								
								<p:commandButton id="btnEdit" action="#{editPost.selectBeitrag(r)}" icon="fa fa-pencil" update="beitrag message" style="margin-left:10px;"
													onstart="PF('overlayOpenBeitrag').show()" oncomplete="PF('overlayOpenBeitrag').hide();bindStyles();scrollOpenBeitrag();"/>
								<p:tooltip for="btnEdit" value="Bearbeiten" position="top"/>
								
								<p:commandButton id="btnDelete" action="#{editPost.deleteBeitrag(r)}" icon="fa fa-trash" update="beitrag message" oncomplete="bindStyles()" style="margin-left:10px;">
									<p:confirm header="Bestätigung" message="'#{r.titel}' wird gelöscht. Dieser Beitrag kann nicht wiederhergestellt werden. Fortfahren?" icon="ui-icon-alert" />
								</p:commandButton>
								<p:tooltip for="btnDelete" value="Löschen" position="top"/>
							</p:column>
						</p:dataTable>
						<br/>
					</h:form>
					<h:form id="edit" rendered="#{postManager.selectID eq 1 and editPost.selected}">
						
						<hr/>
						
						<h2 class="title" style="color:#4c4c4c;">Titel und Textinhalt</h2>
						
						<p:inputText value="#{editPost.titel}" style="width:910px" autocomplete="off" placeholder="Titel" />
						
						<br/><br/>
						
						<p:textEditor value="#{editPost.text}" height="500" style="margin-bottom:10px" placeholder="Textinhalt">
						    <f:facet name="toolbar">
						        <span class="ql-formats">
						            <button class="ql-bold"></button>
						            <button class="ql-italic"></button>
						            <button class="ql-underline"></button>
						            <button class="ql-strike"></button>
						        </span>
						        <span class="ql-formats">
						        	<select class="ql-color"></select>
						            <select class="ql-background"></select>
						        </span>
						        <span class="ql-formats">
						        	<button class="ql-script" value="sub"></button>
						            <button class="ql-script" value="super"></button>
						        </span>
						        <span class="ql-formats">
						            <select class="ql-font"></select>
						            <select class="ql-size"></select>
						        </span>
						        <span class="ql-formats">
						        	<button class="ql-header" value="1"></button>
						            <button class="ql-header" value="2"></button>
						        </span>
						        <span class="ql-formats">
						        	<button class="ql-list" value="ordered"></button>
						            <button class="ql-list" value="bullet"></button>
						            <select class="ql-align"></select>
						        </span>
						        <span class="ql-formats">
						        	<button class="ql-indent" value="-1"></button>
						            <button class="ql-indent" value="+1"></button>
						        </span>
						        <span class="ql-formats">
						        	<button class="ql-link"></button>
						        	<button class="ql-clean"></button>
						        </span>
						    </f:facet>
						</p:textEditor>
						
						<br/>
						
						<hr/>
						
						<h2 class="title" style="color:#4c4c4c;">Eigenschaften</h2>
						
						<h:panelGrid columns="2" style="margin-left:50px">
							<p:outputLabel value="Autor anzeigen:"/>
							<p:selectBooleanButton value="#{editPost.showAutor}" onLabel="ja" offLabel="nein" onIcon="ui-icon-check" offIcon="ui-icon-close" style="width:90px;margin-left:20px" />
							
							<p:outputLabel value="Länge der Vorschau:"/>
							<p:inputNumber value="#{editPost.vorschauLength}" symbol=" Zeichen" decimalPlaces="0" symbolPosition="s" thousandSeparator="" style="margin-left:20px"/>
						</h:panelGrid>
						
						<br/><hr/>
					
						<h2 class="title" style="color:#4c4c4c;">Layout</h2>
						
						<div class="ui-g">
				    		<div class="ui-g-2">
				    			<br/><br/><br/><br/><p:outputLabel value="Beitrag" style="margin-left:50px;"/>
				    		</div>
				    		<div class="ui-g-10">
				    			<div onclick="rcEditLB0()" class="layout-div #{editPost.layout.styleClassBeitrag0}" style="background-image: url(resources/img/layout_beitrag_0.png); height:200px;" />
			    				<div onclick="rcEditLB1()" class="layout-div #{editPost.layout.styleClassBeitrag1}" style="background-image: url(resources/img/layout_beitrag_1.png); height:200px;" />
								<div onclick="rcEditLB2()" class="layout-div #{editPost.layout.styleClassBeitrag2}" style="background-image: url(resources/img/layout_beitrag_2.png); height:200px;" />
				    		</div>
			    		</div>
			    		
			    		<div class="ui-g">
				    		<div class="ui-g-2">
				    			<br/><br/><p:outputLabel value="Vorschau" style="margin-left:50px;"/>
				    		</div>
				    		<div class="ui-g-10">
				    			<div onclick="rcEditLV0()" class="layout-div #{editPost.layout.styleClassVorschau0}" style="background-image: url(resources/img/layout_vorschau_0.png); height:100px;" />
			    				<div onclick="rcEditLV1()" class="layout-div #{editPost.layout.styleClassVorschau1}" style="background-image: url(resources/img/layout_vorschau_1.png); height:100px;" />
								<div onclick="rcEditLV2()" class="layout-div #{editPost.layout.styleClassVorschau2}" style="background-image: url(resources/img/layout_vorschau_2.png); height:100px;" />
				    		</div>
			    		</div>
			    		
			    		<br/><hr/>
						
						<br/>
						
						<p:remoteCommand name="rcEditLB0" actionListener="#{editPost.layout.selectLayoutBeitrag(0)}" update="edit message" oncomplete="bindStyles()"/>
						<p:remoteCommand name="rcEditLB1" actionListener="#{editPost.layout.selectLayoutBeitrag(1)}" update="edit message" oncomplete="bindStyles()"/>
						<p:remoteCommand name="rcEditLB2" actionListener="#{editPost.layout.selectLayoutBeitrag(2)}" update="edit message" oncomplete="bindStyles()"/>
						<p:remoteCommand name="rcEditLV0" actionListener="#{editPost.layout.selectLayoutVorschau(0)}" update="edit message" oncomplete="bindStyles()"/>
						<p:remoteCommand name="rcEditLV1" actionListener="#{editPost.layout.selectLayoutVorschau(1)}" update="edit message" oncomplete="bindStyles()"/>
						<p:remoteCommand name="rcEditLV2" actionListener="#{editPost.layout.selectLayoutVorschau(2)}" update="edit message" oncomplete="bindStyles()"/>
						
						<p:remoteCommand name="rcEditVorschau" actionListener="#{editPost.prepareVorschau}" oncomplete="PF('overlayVorschau').show()" update="panelVorschau"/>
						<p:remoteCommand name="rcEdit" update="beitrag message" actionListener="#{editPost.edit(true)}"
												onstart="PF('overlayLoad').show()" oncomplete="PF('overlayLoad').hide();bindStyles();scrollTop();"/>
						<p:remoteCommand name="rcEditNoUpdate" update="beitrag message" actionListener="#{editPost.edit(false)}"
												onstart="PF('overlayLoad').show()" oncomplete="PF('overlayLoad').hide();bindStyles();scrollTop();"/>
					</h:form>
					<h:form enctype="multipart/form-data" id="editFiles" rendered="#{postManager.selectID eq 1 and editPost.selected}">
						<h2 class="title" style="color:#4c4c4c;display: inline-block;">Bilder</h2>
						
						<p:selectBooleanButton value="#{editPost.fileHandler.vorschauAnsicht}" update="editFiles" onLabel="Bilder-Ansicht" offLabel="Info-Ansicht" onIcon="ui-icon-image" offIcon="ui-icon-contact"
												style="margin-top:-100px;margin-left:40px;width:180px">
							<p:ajax update="editFiles" listener="#{konfig.toggle}" />
						</p:selectBooleanButton>
						<h:panelGrid columns="2">
							<!--  Bilder  -->
							<p:outputLabel/>
							
							<p:scrollPanel mode="native" style="margin-left:50px;width:770px;height:300px">
								<p:dataTable value="#{editPost.fileHandler.filesAdded}" var="r" rendered="#{!editPost.fileHandler.vorschauAnsicht}" emptyMessage="Keine Dateien ausgewählt">
									<p:column headerText="Dateiname">
										<h:graphicImage value="/images/?id=#{r.datei_name_mit_id}" width="140"/>
										#{r.datei_name}
									</p:column>
								
									<p:column style="text-align: center;" headerText="Hochladedatum">
										#{r.datum}
									</p:column>
									
									<p:column style="text-align: center;" headerText="Größe">
										#{r.size}
									</p:column>
									
									<p:column style="text-align: center;" headerText="Von">
										#{r.eigtum}
									</p:column>
									
									<p:column headerText="Aktionen">
										<p:commandButton value="Entfernen" action="#{editPost.removeFile(r)}" update="editFiles"/>
									</p:column>
								</p:dataTable>
								<p:dataTable value="#{editPost.fileHandler.bildReiheAdded}" var="s" rendered="#{editPost.fileHandler.vorschauAnsicht}" emptyMessage="Keine Dateien ausgewählt">
									<p:column style="text-align: center;">
										<p:commandLink update="editFiles" action="#{editPost.removeFile(s.bilder[0])}">
											<h:graphicImage rendered="#{not empty s.bilder[0]}" value="/images/?id=#{s.bilder[0].datei_name_mit_id}" width="140"/>
										</p:commandLink>
										
										<p:outputLabel rendered="#{not empty s.bilder[0]}" value="#{s.bilder[0].datei_name}"/>
									</p:column>
								
									<p:column style="text-align: center;">
										<p:commandLink update="editFiles" action="#{editPost.removeFile(s.bilder[1])}">
											<h:graphicImage rendered="#{not empty s.bilder[1]}" value="/images/?id=#{s.bilder[1].datei_name_mit_id}" width="140"/>
										</p:commandLink>
										<p:outputLabel rendered="#{not empty s.bilder[1]}" value="#{s.bilder[1].datei_name}"/>
									</p:column>
									
									<p:column style="text-align: center;">
										<p:commandLink update="editFiles" action="#{editPost.removeFile(s.bilder[2])}">
											<h:graphicImage rendered="#{not empty s.bilder[2]}" value="/images/?id=#{s.bilder[2].datei_name_mit_id}" width="140"/>
										</p:commandLink>
										
										<p:outputLabel rendered="#{not empty s.bilder[2]}" value="#{s.bilder[2].datei_name}"/>
									</p:column>
									
									<p:column style="text-align: center;">
										<p:commandLink update="editFiles" action="#{editPost.removeFile(s.bilder[3])}">
											<h:graphicImage rendered="#{not empty s.bilder[3]}" value="/images/?id=#{s.bilder[3].datei_name_mit_id}" width="140"/>
										</p:commandLink>
										<p:outputLabel rendered="#{not empty s.bilder[3]}" value="#{s.bilder[3].datei_name}"/>
									</p:column>
								</p:dataTable>
							</p:scrollPanel>
							<p:outputLabel value="angehängte Bilder"/>
							
							<p:fileUpload fileUploadListener="#{editPost.upload}" style="margin-left:50px"
									update="editFiles message" mode="advanced" dragDropSupport="true"  label="Datei auswählen"
									uploadLabel="Hochladen" cancelLabel="Abbrechen"
									allowTypes="/(\.|\/)(gif|png|jpg|jpeg|bmp)$/"
									multiple="true" sequential="true"
									invalidFileMessage="Nur gif-, png-, bmp- und jpg-Dateien sind erlaubt"/>
							<p:outputLabel value="neues Bild hochladen"/>
							
							<p:dataTable value="#{editPost.fileHandler.filesAvailable}" var="r" rendered="#{!editPost.fileHandler.vorschauAnsicht}" emptyMessage="Keine Dateien vorhanden"
									style="margin-left:50px;width:770" scrollRows="5" scrollable="true" liveScroll="true" scrollHeight="300">
								<p:column headerText="Datei">
									<h:graphicImage value="/images/?id=#{r.datei_name_mit_id}" width="140"/>
									#{r.datei_name}
								</p:column>
							
								<p:column style="text-align: center;" headerText="Hochladedatum">
									#{r.datum}
								</p:column>
								
								<p:column style="text-align: center;" headerText="Größe">
									#{r.size}
								</p:column>
								
								<p:column style="text-align: center;" headerText="Von">
									#{r.eigtum}
								</p:column>
								
								<p:column headerText="Aktionen">
								<p:commandButton value="Hinzufügen" action="#{editPost.addFile(r)}" update="editFiles"/>
							</p:column>
							</p:dataTable>
							<p:dataTable value="#{editPost.fileHandler.bildReiheAvailable}" var="s" rendered="#{editPost.fileHandler.vorschauAnsicht}" emptyMessage="Keine Dateien vorhanden"
									style="margin-left:50px;width:770" scrollRows="2" scrollable="true" liveScroll="true" scrollHeight="300">
								<p:column style="text-align: center;" width="140">
									<p:commandLink update="editFiles" action="#{editPost.addFile(s.bilder[0])}">
										<h:graphicImage rendered="#{not empty s.bilder[0]}" value="/images/?id=#{s.bilder[0].datei_name_mit_id}" width="140"/>
									</p:commandLink>
									<br/>
									<p:outputLabel rendered="#{not empty s.bilder[0]}" value="#{s.bilder[0].datei_name}"/>
								</p:column>
							
								<p:column style="text-align: center;" width="140">
									<p:commandLink update="editFiles" action="#{editPost.addFile(s.bilder[1])}">
										<h:graphicImage rendered="#{not empty s.bilder[1]}" value="/images/?id=#{s.bilder[1].datei_name_mit_id}" width="140"/>
									</p:commandLink>
									<br/>
									<p:outputLabel rendered="#{not empty s.bilder[1]}" value="#{s.bilder[1].datei_name}"/>
								</p:column>
								
								<p:column style="text-align: center;" width="140">
									<p:commandLink update="editFiles" action="#{editPost.addFile(s.bilder[2])}">
										<h:graphicImage rendered="#{not empty s.bilder[2]}" value="/images/?id=#{s.bilder[2].datei_name_mit_id}" width="140"/>
									</p:commandLink>
									<br/>
									<p:outputLabel rendered="#{not empty s.bilder[2]}" value="#{s.bilder[2].datei_name}"/>
								</p:column>
								
								<p:column style="text-align: center;" width="140">
									<p:commandLink update="editFiles" action="#{editPost.addFile(s.bilder[3])}">
										<h:graphicImage rendered="#{not empty s.bilder[3]}" value="/images/?id=#{s.bilder[3].datei_name_mit_id}" width="140"/>
									</p:commandLink>
									<br/>
									<p:outputLabel rendered="#{not empty s.bilder[3]}" value="#{s.bilder[3].datei_name}"/>
								</p:column>
							</p:dataTable>
							<p:outputLabel value="verfügbare Bilder"/>
						</h:panelGrid>
						
						<br/><br/>
						
						<hr/>
						
						<br/>

						<div align="right">
							<p:commandButton style="margin-right:90px;" type="button" onclick="rcEditVorschau()" value="Vorschau anzeigen" icon="fa fa-eye"/>
							<br/><br/>
							<p:commandButton style="margin-right:90px" type="button" onclick="rcEditNoUpdate()" value="Speichern (Datum nicht aktualisieren)"
												icon="ui-icon-disk" rendered="#{editPost.selected}"/>
																	
							<br/><br/>
							<p:commandButton style="margin-right:90px" type="button" onclick="rcEdit()" value="Speichern"
												icon="ui-icon-disk" rendered="#{editPost.selected}"/>
						</div>
						<br/>
						<p:outputLabel style="margin-left:50px;color:red;" value="#{editPost.hint}" rendered="#{not empty editPost.hint}"/>
					</h:form>
					
	<!-- Ab hier beginnt cms.ApprovePost (BEITRAG GENEHMIGEN / BEARBEITEN, ADMIN-ONLY) -->
					
					<h:form id="approveChoose" rendered="#{postManager.selectID eq 2}">
					
						<h2 class="title" style="color:#4c4c4c;">Auswahl</h2>
						
						<p:outputLabel style="margin-left:50px" value="Hier sehen Sie von Lehrern, Schülern und Gäste bereitgestellte Beiträge."/>
						<br/>
						<p:outputLabel style="margin-left:50px" value="Diese müssen Sie genehmigen, damit sie auf der Homepage angezeigt werden."/>
						<br/>
						<br/>
						<p:dataTable value="#{approvePost.beitrag}" var="r" emptyMessage="Keine Beiträge vorhanden"
									style="margin-left:50px;width:813px;height:300px"
									paginator="true"
		                         	paginatorPosition="bottom"
		                         	paginatorTemplate="{FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink}"
		                         	rows="5">
							<p:column headerText="Titel" style="text-align:center">
								#{r.titel}
							</p:column>
						
							<p:column headerText="Datum" style="text-align:center">
								#{r.datum}
							</p:column>
							
							<p:column headerText="Von" style="text-align:center">
								#{r.nutzer.vorname} #{r.nutzer.nachname}
							</p:column>
							
							<p:column headerText="Aktionen" style="text-align:center">
								<p:commandButton value="Öffnen" action="#{approvePost.selectBeitrag(r)}" update="beitrag message"
												onstart="PF('overlayOpenBeitrag').show()" oncomplete="PF('overlayOpenBeitrag').hide();bindStyles();scrollOpenBeitragApprove();"/>
							</p:column>
						</p:dataTable>
						<br/>
					</h:form>
					<h:form id="approve" rendered="#{postManager.selectID eq 2 and approvePost.selected}">
						<hr/>
						<br/>
						<h2 class="title" style="color:#4c4c4c;">Titel und Textinhalt</h2>
						
						<p:inputText value="#{approvePost.titel}" style="width:910px" autocomplete="off" placeholder="Titel" />
						
						<br/><br/>
						
						<p:textEditor value="#{approvePost.text}" height="500" style="margin-bottom:10px" placeholder="Textinhalt">
						    <f:facet name="toolbar">
						        <span class="ql-formats">
						            <button class="ql-bold"></button>
						            <button class="ql-italic"></button>
						            <button class="ql-underline"></button>
						            <button class="ql-strike"></button>
						        </span>
						        <span class="ql-formats">
						        	<select class="ql-color"></select>
						            <select class="ql-background"></select>
						        </span>
						        <span class="ql-formats">
						        	<button class="ql-script" value="sub"></button>
						            <button class="ql-script" value="super"></button>
						        </span>
						        <span class="ql-formats">
						            <select class="ql-font"></select>
						            <select class="ql-size"></select>
						        </span>
						        <span class="ql-formats">
						        	<button class="ql-header" value="1"></button>
						            <button class="ql-header" value="2"></button>
						        </span>
						        <span class="ql-formats">
						        	<button class="ql-list" value="ordered"></button>
						            <button class="ql-list" value="bullet"></button>
						            <select class="ql-align"></select>
						        </span>
						        <span class="ql-formats">
						        	<button class="ql-indent" value="-1"></button>
						            <button class="ql-indent" value="+1"></button>
						        </span>
						        <span class="ql-formats">
						        	<button class="ql-link"></button>
						        	<button class="ql-clean"></button>
						        </span>
						    </f:facet>
						</p:textEditor>
						
						<br/>
						
						<hr/>
						
						<h2 class="title" style="color:#4c4c4c;">Zuordnung</h2>
						
						<p:menubar styleClass="ui-widget-header ui-corner-all" style="width:800px;margin-left:50px" model="#{zuordnungFinder.model}" />
						<p:remoteCommand name="chooseApprove" update="@form" oncomplete="bindStyles()" actionListener="#{zuordnungFinder.choose}" />
						<br/>
						
						<p:outputLabel style="margin-left:50px" value="ausgewählt: "/>
						<p:outputLabel style="font-weight: bold;" value="#{zuordnungFinder.selectedGruppe.name}"/>
						
						<br/><br/><hr/>
						
						<h2 class="title" style="color:#4c4c4c;">Eigenschaften</h2>
						
						<h:panelGrid columns="2" style="margin-left:50px">
							<p:outputLabel value="Autor anzeigen:"/>
							<p:selectBooleanButton value="#{approvePost.showAutor}" onLabel="ja" offLabel="nein" onIcon="ui-icon-check" offIcon="ui-icon-close" style="width:90px;margin-left:20px" />
							
							<p:outputLabel value="Länge der Vorschau:"/>
							<p:inputNumber value="#{approvePost.vorschauLength}" symbol=" Zeichen" decimalPlaces="0" symbolPosition="s" thousandSeparator="" style="margin-left:20px"/>
						</h:panelGrid>
						
						<br/><hr/>
					
						<h2 class="title" style="color:#4c4c4c;">Layout</h2>
						
						<div class="ui-g">
				    		<div class="ui-g-2">
				    			<br/><br/><br/><br/><p:outputLabel value="Beitrag" style="margin-left:50px;"/>
				    		</div>
				    		<div class="ui-g-10">
				    			<div onclick="rcApproveLB0()" class="layout-div #{approvePost.layout.styleClassBeitrag0}" style="background-image: url(resources/img/layout_beitrag_0.png); height:200px;" />
			    				<div onclick="rcApproveLB1()" class="layout-div #{approvePost.layout.styleClassBeitrag1}" style="background-image: url(resources/img/layout_beitrag_1.png); height:200px;" />
								<div onclick="rcApproveLB2()" class="layout-div #{approvePost.layout.styleClassBeitrag2}" style="background-image: url(resources/img/layout_beitrag_2.png); height:200px;" />
				    		</div>
			    		</div>
			    		
			    		<div class="ui-g">
				    		<div class="ui-g-2">
				    			<br/><br/><p:outputLabel value="Vorschau" style="margin-left:50px;"/>
				    		</div>
				    		<div class="ui-g-10">
				    			<div onclick="rcApproveLV0()" class="layout-div #{approvePost.layout.styleClassVorschau0}" style="background-image: url(resources/img/layout_vorschau_0.png); height:100px;" />
			    				<div onclick="rcApproveLV1()" class="layout-div #{approvePost.layout.styleClassVorschau1}" style="background-image: url(resources/img/layout_vorschau_1.png); height:100px;" />
								<div onclick="rcApproveLV2()" class="layout-div #{approvePost.layout.styleClassVorschau2}" style="background-image: url(resources/img/layout_vorschau_2.png); height:100px;" />
				    		</div>
			    		</div>
			    		
			    		<br/><hr/>
						
						<br/>
						
						<p:remoteCommand name="rcApproveLB0" actionListener="#{approvePost.layout.selectLayoutBeitrag(0)}" update="approve message" oncomplete="bindStyles()"/>
						<p:remoteCommand name="rcApproveLB1" actionListener="#{approvePost.layout.selectLayoutBeitrag(1)}" update="approve message" oncomplete="bindStyles()"/>
						<p:remoteCommand name="rcApproveLB2" actionListener="#{approvePost.layout.selectLayoutBeitrag(2)}" update="approve message" oncomplete="bindStyles()"/>
						<p:remoteCommand name="rcApproveLV0" actionListener="#{approvePost.layout.selectLayoutVorschau(0)}" update="approve message" oncomplete="bindStyles()"/>
						<p:remoteCommand name="rcApproveLV1" actionListener="#{approvePost.layout.selectLayoutVorschau(1)}" update="approve message" oncomplete="bindStyles()"/>
						<p:remoteCommand name="rcApproveLV2" actionListener="#{approvePost.layout.selectLayoutVorschau(2)}" update="approve message" oncomplete="bindStyles()"/>
						
						<p:remoteCommand name="rcApproveVorschau" actionListener="#{approvePost.prepareVorschau}" oncomplete="PF('overlayVorschau').show()" update="panelVorschau"/>
						<p:remoteCommand name="rcApprove" update="beitrag message" actionListener="#{approvePost.finish}"
											onstart="PF('overlayLoad').show()" oncomplete="PF('overlayLoad').hide();bindStyles();scrollTop();"/>
					</h:form>
					<h:form enctype="multipart/form-data" id="approveFiles" rendered="#{postManager.selectID eq 2 and approvePost.selected}">	
						<h2 class="title" style="color:#4c4c4c;display: inline-block;">Bilder</h2>
						
						<p:selectBooleanButton value="#{approvePost.fileHandler.vorschauAnsicht}" update="approveFiles" onLabel="Bilder-Ansicht" offLabel="Info-Ansicht" onIcon="ui-icon-image" offIcon="ui-icon-contact"
												style="margin-top:-100px;margin-left:40px;width:180px">
							<p:ajax update="approveFiles" listener="#{konfig.toggle}" />
						</p:selectBooleanButton>
						<h:panelGrid columns="2">
							<!--  Bilder  -->
							<p:outputLabel/>
							
							<p:scrollPanel mode="native" style="margin-left:50px;width:770px;height:300px">
								<p:dataTable value="#{approvePost.fileHandler.filesAdded}" var="r" rendered="#{!approvePost.fileHandler.vorschauAnsicht}" emptyMessage="Keine Dateien ausgewählt">
									<p:column headerText="Dateiname">
										<h:graphicImage value="/images/?id=#{r.datei_name_mit_id}" width="140"/>
										#{r.datei_name}
									</p:column>
								
									<p:column style="text-align: center;" headerText="Hochladedatum">
										#{r.datum}
									</p:column>
									
									<p:column style="text-align: center;" headerText="Größe">
										#{r.size}
									</p:column>
									
									<p:column style="text-align: center;" headerText="Von">
										#{r.eigtum}
									</p:column>
									
									<p:column headerText="Aktionen">
										<p:commandButton value="Entfernen" action="#{approvePost.removeFile(r)}" update="approveFiles"/>
									</p:column>
								</p:dataTable>
								<p:dataTable value="#{approvePost.fileHandler.bildReiheAdded}" var="v" rendered="#{approvePost.fileHandler.vorschauAnsicht}" emptyMessage="Keine Dateien ausgewählt">
									<p:column style="text-align: center;">
										<p:commandLink update="approveFiles" action="#{approvePost.removeFile(v.bilder[0])}">
											<h:graphicImage rendered="#{not empty v.bilder[0]}" value="/images/?id=#{v.bilder[0].datei_name_mit_id}" width="140"/>
										</p:commandLink>
										
										<p:outputLabel rendered="#{not empty v.bilder[0]}" value="#{v.bilder[0].datei_name}"/>
									</p:column>
								
									<p:column style="text-align: center;">
										<p:commandLink update="approveFiles" action="#{approvePost.removeFile(v.bilder[1])}">
											<h:graphicImage rendered="#{not empty v.bilder[1]}" value="/images/?id=#{v.bilder[1].datei_name_mit_id}" width="140"/>
										</p:commandLink>
										<p:outputLabel rendered="#{not empty v.bilder[1]}" value="#{v.bilder[1].datei_name}"/>
									</p:column>
									
									<p:column style="text-align: center;">
										<p:commandLink update="approveFiles" action="#{approvePost.removeFile(v.bilder[2])}">
											<h:graphicImage rendered="#{not empty v.bilder[2]}" value="/images/?id=#{v.bilder[2].datei_name_mit_id}" width="140"/>
										</p:commandLink>
										
										<p:outputLabel rendered="#{not empty v.bilder[2]}" value="#{v.bilder[2].datei_name}"/>
									</p:column>
									
									<p:column style="text-align: center;">
										<p:commandLink update="approveFiles" action="#{approvePost.removeFile(v.bilder[3])}">
											<h:graphicImage rendered="#{not empty v.bilder[3]}" value="/images/?id=#{v.bilder[3].datei_name_mit_id}" width="140"/>
										</p:commandLink>
										<p:outputLabel rendered="#{not empty v.bilder[3]}" value="#{v.bilder[3].datei_name}"/>
									</p:column>
								</p:dataTable>
							</p:scrollPanel>
							<p:outputLabel value="angehängte Bilder"/>
							
							<p:fileUpload fileUploadListener="#{approvePost.upload}"  style="margin-left:50px"
									update="approveFiles message" mode="advanced" dragDropSupport="true"  label="Datei auswählen"
									uploadLabel="Hochladen" cancelLabel="Abbrechen"
									allowTypes="/(\.|\/)(gif|png|jpg|jpeg|bmp)$/"
									multiple="true" sequential="true"
									invalidFileMessage="Nur gif-, png-, bmp- und jpg-Dateien sind erlaubt"/>
							<p:outputLabel value="neues Bild hochladen"/>
							
							<p:dataTable value="#{approvePost.fileHandler.filesAvailable}" var="r" rendered="#{!approvePost.fileHandler.vorschauAnsicht}" emptyMessage="Keine Dateien vorhanden"
									style="margin-left:50px;width:770" scrollRows="5" scrollable="true" liveScroll="true" scrollHeight="300">
								<p:column headerText="Datei">
									<h:graphicImage value="/images/?id=#{r.datei_name_mit_id}" width="140"/>
									#{r.datei_name}
								</p:column>
							
								<p:column style="text-align: center;" headerText="Hochladedatum">
									#{r.datum}
								</p:column>
								
								<p:column style="text-align: center;" headerText="Größe">
									#{r.size}
								</p:column>
								
								<p:column style="text-align: center;" headerText="Von">
									#{r.eigtum}
								</p:column>
								
								<p:column headerText="Aktionen">
								<p:commandButton value="Hinzufügen" action="#{approvePost.addFile(r)}" update="approveFiles"/>
							</p:column>
							</p:dataTable>
							<p:dataTable value="#{approvePost.fileHandler.bildReiheAvailable}" var="v" rendered="#{approvePost.fileHandler.vorschauAnsicht}" emptyMessage="Keine Dateien vorhanden"
									style="margin-left:50px;width:770" scrollRows="2" scrollable="true" liveScroll="true" scrollHeight="300">
								<p:column style="text-align: center;" width="140">
									<p:commandLink update="approveFiles" action="#{approvePost.addFile(v.bilder[0])}">
										<h:graphicImage rendered="#{not empty v.bilder[0]}" value="/images/?id=#{v.bilder[0].datei_name_mit_id}" width="140"/>
									</p:commandLink>
									<br/>
									<p:outputLabel rendered="#{not empty v.bilder[0]}" value="#{v.bilder[0].datei_name}"/>
								</p:column>
							
								<p:column style="text-align: center;" width="140">
									<p:commandLink update="approveFiles" action="#{approvePost.addFile(v.bilder[1])}">
										<h:graphicImage rendered="#{not empty v.bilder[1]}" value="/images/?id=#{v.bilder[1].datei_name_mit_id}" width="140"/>
									</p:commandLink>
									<br/>
									<p:outputLabel rendered="#{not empty v.bilder[1]}" value="#{v.bilder[1].datei_name}"/>
								</p:column>
								
								<p:column style="text-align: center;" width="140">
									<p:commandLink update="approveFiles" action="#{approvePost.addFile(v.bilder[2])}">
										<h:graphicImage rendered="#{not empty v.bilder[2]}" value="/images/?id=#{v.bilder[2].datei_name_mit_id}" width="140"/>
									</p:commandLink>
									<br/>
									<p:outputLabel rendered="#{not empty v.bilder[2]}" value="#{v.bilder[2].datei_name}"/>
								</p:column>
								
								<p:column style="text-align: center;" width="140">
									<p:commandLink update="approveFiles" action="#{approvePost.addFile(v.bilder[3])}">
										<h:graphicImage rendered="#{not empty v.bilder[3]}" value="/images/?id=#{v.bilder[3].datei_name_mit_id}" width="140"/>
									</p:commandLink>
									<br/>
									<p:outputLabel rendered="#{not empty v.bilder[3]}" value="#{v.bilder[3].datei_name}"/>
								</p:column>
							</p:dataTable>
							<p:outputLabel value="verfügbare Bilder"/>
						</h:panelGrid>
						
						<br/><br/>
						
						<hr/>
						
						<br/>

						<div align="right">
							<p:commandButton style="margin-right:20px;flow:left;" type="button" onclick="rcApproveVorschau()" value="Vorschau anzeigen" icon="fa fa-eye"  />
							<p:commandButton style="margin-right:90px" type="button" onclick="rcApprove()" value="Beitrag veröffentlichen" icon="ui-icon-disk" rendered="#{approvePost.selected}" />
							<br/><br/>
							<p:commandButton style="margin-right:90px" value="Beitrag verwerfen" action="#{approvePost.deleteBeitrag}" icon="ui-icon-trash" rendered="#{approvePost.selected}" update="beitrag message" oncomplete="bindStyles();scrollTop();">
								<p:confirm header="Bestätigung" message="Sind Sie sicher? Dieser Beitrag kann nicht wiederhergestellt werden." icon="ui-icon-alert" />
							</p:commandButton>
						</div>
						<br/>
						<p:outputLabel style="margin-left:50px;color:red;" value="#{approvePost.hint}" rendered="#{not empty approvePost.hint}"/>
					</h:form>
					
	<!-- Ab hier beginnt cms.EditUnapproved (BEITRAG BEARBEITEN / LOESCHEN, NO-ADMIN) -->
					
					<h:form id="editUnapprovedChoose" rendered="#{postManager.selectID eq 4}">
					
						<h2 class="title" style="color:#4c4c4c;">Auswahl</h2>
						<p:outputLabel style="margin-left:50px" value="Hier findest du alle deine Beiträge, die noch nicht genehmigt sind."/>
						<br/>
						<p:outputLabel style="margin-left:50px" value="Beiträge werden aus der Liste entfernt, sobald der Admin diese veröffentlicht hat."/>
						<br/><br/>
						<p:scrollPanel mode="native" style="width:813px;height:500px; margin-left:50px">
								<p:dataTable value="#{editUnapproved.beitrag}" var="r" emptyMessage="Keine unveröffentlichte Beiträge vorhanden">
									<p:column headerText="Titel" style="text-align:center">
										#{r.titel}
									</p:column>
								
									<p:column headerText="Datum" style="text-align:center" width="150" >
										#{r.datum}
									</p:column>
									
									<p:column headerText="Aktionen" style="text-align:center" width="120">
										<p:commandButton id="btnEditNoAdmin" action="#{editUnapproved.selectBeitrag(r)}" update="beitrag message" icon="fa fa-pencil"/>
										<p:tooltip for="btnEditNoAdmin" value="Bearbeiten" position="top"/>
										<p:commandButton id="btnDeleteNoAdmin" action="#{editUnapproved.deleteBeitrag(r)}" update="beitrag message" icon="fa fa-trash" style="margin-left:10px">
											<p:confirm header="Bestätigung" message="Sind Sie sicher? Dieser Beitrag kann nicht wiederhergestellt werden." icon="ui-icon-alert" />
										</p:commandButton>
										<p:tooltip for="btnDeleteNoAdmin" value="Löschen" position="top"/>
									</p:column>
								</p:dataTable>
						</p:scrollPanel>
						<br/>
					</h:form>
					<h:form id="editUnapproved" rendered="#{postManager.selectID eq 4 and editUnapproved.selected}">
						
						<hr/>
						
						<h2 class="title" style="color:#4c4c4c;">Titel und Textinhalt</h2>
						
						<p:inputText value="#{editUnapproved.titel}" style="width:910px" autocomplete="off" placeholder="Titel"/>
							
						<br/><br/>
							
						<p:textEditor value="#{editUnapproved.text}" height="500" style="margin-bottom:10px" placeholder="Textinhalt">
						    <f:facet name="toolbar">
						        <span class="ql-formats">
						            <button class="ql-bold"></button>
						            <button class="ql-italic"></button>
						            <button class="ql-underline"></button>
						            <button class="ql-strike"></button>
						        </span>
						        <span class="ql-formats">
						        	<select class="ql-color"></select>
						            <select class="ql-background"></select>
						        </span>
						        <span class="ql-formats">
						        	<button class="ql-script" value="sub"></button>
						            <button class="ql-script" value="super"></button>
						        </span>
						        <span class="ql-formats">
						            <select class="ql-font"></select>
						            <select class="ql-size"></select>
						        </span>
						        <span class="ql-formats">
						        	<button class="ql-header" value="1"></button>
						            <button class="ql-header" value="2"></button>
						        </span>
						        <span class="ql-formats">
						        	<button class="ql-list" value="ordered"></button>
						            <button class="ql-list" value="bullet"></button>
						            <select class="ql-align"></select>
						        </span>
						        <span class="ql-formats">
						        	<button class="ql-indent" value="-1"></button>
						            <button class="ql-indent" value="+1"></button>
						        </span>
						        <span class="ql-formats">
						        	<button class="ql-link"></button>
						        	<button class="ql-clean"></button>
						        </span>
						    </f:facet>
						</p:textEditor>
						
						<br/>
						
						<hr/>
						
						<h2 class="title" style="color:#4c4c4c;">Eigenschaften</h2>
						
						<h:panelGrid columns="2" style="margin-left:50px">
							<p:outputLabel value="Autor anzeigen:"/>
							<p:selectBooleanButton value="#{editUnapproved.showAutor}" onLabel="ja" offLabel="nein" onIcon="ui-icon-check" offIcon="ui-icon-close" style="width:90px;margin-left:20px" />
							
							<p:outputLabel value="Länge der Vorschau:"/>
							<p:inputNumber value="#{editUnapproved.vorschauLength}" symbol=" Zeichen" decimalPlaces="0" symbolPosition="s" thousandSeparator="" style="margin-left:20px"/>
						</h:panelGrid>
						
						<br/><hr/>
					
						<h2 class="title" style="color:#4c4c4c;">Layout</h2>
						
						<div class="ui-g">
				    		<div class="ui-g-2">
				    			<br/><br/><br/><br/><p:outputLabel value="Beitrag" style="margin-left:50px;"/>
				    		</div>
				    		<div class="ui-g-10">
				    			<div onclick="rcEditUnapprovedLB0()" class="layout-div #{editUnapproved.layout.styleClassBeitrag0}" style="background-image: url(resources/img/layout_beitrag_0.png); height:200px;" />
			    				<div onclick="rcEditUnapprovedLB1()" class="layout-div #{editUnapproved.layout.styleClassBeitrag1}" style="background-image: url(resources/img/layout_beitrag_1.png); height:200px;" />
								<div onclick="rcEditUnapprovedLB2()" class="layout-div #{editUnapproved.layout.styleClassBeitrag2}" style="background-image: url(resources/img/layout_beitrag_2.png); height:200px;" />
				    		</div>
			    		</div>
			    		
			    		<div class="ui-g">
				    		<div class="ui-g-2">
				    			<br/><br/><p:outputLabel value="Vorschau" style="margin-left:50px;"/>
				    		</div>
				    		<div class="ui-g-10">
				    			<div onclick="rcEditUnapprovedLV0()" class="layout-div #{editUnapproved.layout.styleClassVorschau0}" style="background-image: url(resources/img/layout_vorschau_0.png); height:100px;" />
			    				<div onclick="rcEditUnapprovedLV1()" class="layout-div #{editUnapproved.layout.styleClassVorschau1}" style="background-image: url(resources/img/layout_vorschau_1.png); height:100px;" />
								<div onclick="rcEditUnapprovedLV2()" class="layout-div #{editUnapproved.layout.styleClassVorschau2}" style="background-image: url(resources/img/layout_vorschau_2.png); height:100px;" />
				    		</div>
			    		</div>
			    		
			    		<br/><hr/>
						
						<br/>
						
						<p:remoteCommand name="rcEditUnapprovedLB0" actionListener="#{editUnapproved.layout.selectLayoutBeitrag(0)}" update="editUnapproved message"/>
						<p:remoteCommand name="rcEditUnapprovedLB1" actionListener="#{editUnapproved.layout.selectLayoutBeitrag(1)}" update="editUnapproved message"/>
						<p:remoteCommand name="rcEditUnapprovedLB2" actionListener="#{editUnapproved.layout.selectLayoutBeitrag(2)}" update="editUnapproved message"/>
						<p:remoteCommand name="rcEditUnapprovedLV0" actionListener="#{editUnapproved.layout.selectLayoutVorschau(0)}" update="editUnapproved message"/>
						<p:remoteCommand name="rcEditUnapprovedLV1" actionListener="#{editUnapproved.layout.selectLayoutVorschau(1)}" update="editUnapproved message"/>
						<p:remoteCommand name="rcEditUnapprovedLV2" actionListener="#{editUnapproved.layout.selectLayoutVorschau(2)}" update="editUnapproved message"/>
						
						<p:remoteCommand name="rcEditUnapprovedVorschau" actionListener="#{editUnapproved.prepareVorschau}" oncomplete="PF('overlayVorschau').show()" update="panelVorschau"/>
						<p:remoteCommand name="rcEditUnapproved" update="beitrag message" actionListener="#{editUnapproved.edit}"
										onstart="PF('overlayLoad').show()" oncomplete="PF('overlayLoad').hide();scrollTop();"/>
					</h:form>
					<h:form enctype="multipart/form-data" id="editUnapprovedFiles" rendered="#{postManager.selectID eq 4 and editUnapproved.selected}">
						<h2 class="title" style="color:#4c4c4c;display: inline-block;">Bilder</h2>
						
						<p:selectBooleanButton value="#{editUnapproved.fileHandler.vorschauAnsicht}" update="editUnapprovedFiles" onLabel="Bilder-Ansicht" offLabel="Info-Ansicht" onIcon="ui-icon-image" offIcon="ui-icon-contact"
												style="margin-top:-100px;margin-left:40px;width:180px">
							<p:ajax update="editUnapprovedFiles" listener="#{konfig.toggle}" />
						</p:selectBooleanButton>
						<h:panelGrid columns="2">
							<!--  Bilder  -->
							<p:outputLabel/>
							
							<p:scrollPanel mode="native" style="margin-left:50px;width:770px;height:300px">
								<p:dataTable value="#{editUnapproved.fileHandler.filesAdded}" var="r" rendered="#{!editUnapproved.fileHandler.vorschauAnsicht}" emptyMessage="Keine Dateien ausgewählt">
									<p:column headerText="Dateiname">
										<h:graphicImage value="/images/?id=#{r.datei_name_mit_id}" width="140"/>
										#{r.datei_name}
									</p:column>
								
									<p:column style="text-align: center;" headerText="Hochladedatum">
										#{r.datum}
									</p:column>
									
									<p:column style="text-align: center;" headerText="Größe">
										#{r.size}
									</p:column>
									
									<p:column style="text-align: center;" headerText="Von">
										#{r.eigtum}
									</p:column>
									
									<p:column headerText="Aktionen">
										<p:commandButton value="Entfernen" action="#{editUnapproved.removeFile(r)}" update="editUnapprovedFiles"/>
									</p:column>
								</p:dataTable>
								<p:dataTable value="#{editUnapproved.fileHandler.bildReiheAdded}" var="u" rendered="#{editUnapproved.fileHandler.vorschauAnsicht}" emptyMessage="Keine Dateien ausgewählt">
									<p:column style="text-align: center;">
										<p:commandLink update="editUnapprovedFiles" action="#{editUnapproved.removeFile(u.bilder[0])}">
											<h:graphicImage rendered="#{not empty u.bilder[0]}" value="/images/?id=#{u.bilder[0].datei_name_mit_id}" width="140"/>
										</p:commandLink>
										
										<p:outputLabel rendered="#{not empty u.bilder[0]}" value="#{u.bilder[0].datei_name}"/>
									</p:column>
								
									<p:column style="text-align: center;">
										<p:commandLink update="editUnapprovedFiles" action="#{editUnapproved.removeFile(u.bilder[1])}">
											<h:graphicImage rendered="#{not empty u.bilder[1]}" value="/images/?id=#{u.bilder[1].datei_name_mit_id}" width="140"/>
										</p:commandLink>
										<p:outputLabel rendered="#{not empty u.bilder[1]}" value="#{u.bilder[1].datei_name}"/>
									</p:column>
									
									<p:column style="text-align: center;">
										<p:commandLink update="editUnapprovedFiles" action="#{editUnapproved.removeFile(u.bilder[2])}">
											<h:graphicImage rendered="#{not empty u.bilder[2]}" value="/images/?id=#{u.bilder[2].datei_name_mit_id}" width="140"/>
										</p:commandLink>
										
										<p:outputLabel rendered="#{not empty u.bilder[2]}" value="#{u.bilder[2].datei_name}"/>
									</p:column>
									
									<p:column style="text-align: center;">
										<p:commandLink update="editUnapprovedFiles" action="#{editUnapproved.removeFile(u.bilder[3])}">
											<h:graphicImage rendered="#{not empty u.bilder[3]}" value="/images/?id=#{u.bilder[3].datei_name_mit_id}" width="140"/>
										</p:commandLink>
										<p:outputLabel rendered="#{not empty u.bilder[3]}" value="#{u.bilder[3].datei_name}"/>
									</p:column>
								</p:dataTable>
							</p:scrollPanel>
							<p:outputLabel value="angehängte Bilder"/>
							
							<p:fileUpload fileUploadListener="#{editUnapproved.upload}" style="margin-left:50px"
									update="editUnapprovedFiles message" mode="advanced" dragDropSupport="true"  label="Datei auswählen"
									uploadLabel="Hochladen" cancelLabel="Abbrechen"
									allowTypes="/(\.|\/)(gif|png|jpg|jpeg|bmp)$/"
									multiple="true" sequential="true"
									invalidFileMessage="Nur gif-, png-, bmp- und jpg-Dateien sind erlaubt"/>
							<p:outputLabel value="neues Bild hochladen"/>
							
							<p:dataTable value="#{editUnapproved.fileHandler.filesAvailable}" var="r" rendered="#{!editUnapproved.fileHandler.vorschauAnsicht}" emptyMessage="Keine Dateien vorhanden"
									style="margin-left:50px;width:770" scrollRows="5" scrollable="true" liveScroll="true" scrollHeight="300">
								<p:column headerText="Datei">
									<h:graphicImage value="/images/?id=#{r.datei_name_mit_id}" width="140"/>
									#{r.datei_name}
								</p:column>
							
								<p:column style="text-align: center;" headerText="Hochladedatum">
									#{r.datum}
								</p:column>
								
								<p:column style="text-align: center;" headerText="Größe">
									#{r.size}
								</p:column>
								
								<p:column style="text-align: center;" headerText="Von">
									#{r.eigtum}
								</p:column>
								
								<p:column headerText="Aktionen">
								<p:commandButton value="Hinzufügen" action="#{editUnapproved.addFile(r)}" update="editUnapprovedFiles"/>
							</p:column>
							</p:dataTable>
							<p:dataTable value="#{editUnapproved.fileHandler.bildReiheAvailable}" var="u" rendered="#{editUnapproved.fileHandler.vorschauAnsicht}" emptyMessage="Keine Dateien vorhanden"
									style="margin-left:50px;width:770" scrollRows="2" scrollable="true" liveScroll="true" scrollHeight="300">
								<p:column style="text-align: center;" width="140">
									<p:commandLink update="editUnapprovedFiles" action="#{editUnapproved.addFile(u.bilder[0])}">
										<h:graphicImage rendered="#{not empty u.bilder[0]}" value="/images/?id=#{u.bilder[0].datei_name_mit_id}" width="140"/>
									</p:commandLink>
									<br/>
									<p:outputLabel rendered="#{not empty u.bilder[0]}" value="#{u.bilder[0].datei_name}"/>
								</p:column>
							
								<p:column style="text-align: center;" width="140">
									<p:commandLink update="editUnapprovedFiles" action="#{editUnapproved.addFile(u.bilder[1])}">
										<h:graphicImage rendered="#{not empty u.bilder[1]}" value="/images/?id=#{u.bilder[1].datei_name_mit_id}" width="140"/>
									</p:commandLink>
									<br/>
									<p:outputLabel rendered="#{not empty u.bilder[1]}" value="#{u.bilder[1].datei_name}"/>
								</p:column>
								
								<p:column style="text-align: center;" width="140">
									<p:commandLink update="editUnapprovedFiles" action="#{editUnapproved.addFile(u.bilder[2])}">
										<h:graphicImage rendered="#{not empty u.bilder[2]}" value="/images/?id=#{u.bilder[2].datei_name_mit_id}" width="140"/>
									</p:commandLink>
									<br/>
									<p:outputLabel rendered="#{not empty u.bilder[2]}" value="#{u.bilder[2].datei_name}"/>
								</p:column>
								
								<p:column style="text-align: center;" width="140">
									<p:commandLink update="editUnapprovedFiles" action="#{editUnapproved.addFile(u.bilder[3])}">
										<h:graphicImage rendered="#{not empty u.bilder[3]}" value="/images/?id=#{u.bilder[3].datei_name_mit_id}" width="140"/>
									</p:commandLink>
									<br/>
									<p:outputLabel rendered="#{not empty u.bilder[3]}" value="#{u.bilder[3].datei_name}"/>
								</p:column>
							</p:dataTable>
							<p:outputLabel value="verfügbare Bilder"/>
						</h:panelGrid>
						
						<br/><br/>
						
						<hr/>
						
						<br/>						

						<div align="right">
							<p:commandButton style="margin-right:20px;flow:left;" type="button" onclick="rcEditUnapprovedVorschau()" value="Vorschau anzeigen" icon="fa fa-eye"/>
							<p:commandButton style="margin-right:90px" type="button" onclick="rcEditUnapproved()" value="Änderungen speichern"
												icon="ui-icon-disk" rendered="#{editUnapproved.selected}"/>
						</div>
						<br/>
						<p:outputLabel style="margin-left:50px;color:red;" value="#{editUnapproved.hint}" rendered="#{not empty editUnapproved.hint}"/>
					</h:form>
					
	<!-- Ab hier beginnt cms.CreatePost (BEITRAG ERSTELLEN, NO-ADMIN) -->
		
					<h:form id="new" rendered="#{postManager.selectID eq 3}">
					
						<h2 class="title" style="color:#4c4c4c;">Titel und Textinhalt</h2>
						
						<p:inputText value="#{createPost.titel}" style="width:910px" autocomplete="off" placeholder="Titel"/>
						
						<br/><br/>
							
						<p:textEditor value="#{createPost.text}" height="500" style="margin-bottom:10px" placeholder="Textinhalt">
						    <f:facet name="toolbar">
						        <span class="ql-formats">
						            <button class="ql-bold"></button>
						            <button class="ql-italic"></button>
						            <button class="ql-underline"></button>
						            <button class="ql-strike"></button>
						        </span>
						        <span class="ql-formats">
						        	<select class="ql-color"></select>
						            <select class="ql-background"></select>
						        </span>
						        <span class="ql-formats">
						        	<button class="ql-script" value="sub"></button>
						            <button class="ql-script" value="super"></button>
						        </span>
						        <span class="ql-formats">
						            <select class="ql-font"></select>
						            <select class="ql-size"></select>
						        </span>
						        <span class="ql-formats">
						        	<button class="ql-header" value="1"></button>
						            <button class="ql-header" value="2"></button>
						        </span>
						        <span class="ql-formats">
						        	<button class="ql-list" value="ordered"></button>
						            <button class="ql-list" value="bullet"></button>
						            <select class="ql-align"></select>
						        </span>
						        <span class="ql-formats">
						        	<button class="ql-indent" value="-1"></button>
						            <button class="ql-indent" value="+1"></button>
						        </span>
						        <span class="ql-formats">
						        	<button class="ql-link"></button>
						        	<button class="ql-clean"></button>
						        </span>
						    </f:facet>
						</p:textEditor>
						
						<br/>
						
						<hr/>
						
						<h2 class="title" style="color:#4c4c4c;">Eigenschaften</h2>
						
						<h:panelGrid columns="2" style="margin-left:50px;">
							<p:outputLabel value="Autor anzeigen:"/>
							<p:selectBooleanButton value="#{createPost.showAutor}" onLabel="ja" offLabel="nein" onIcon="ui-icon-check" offIcon="ui-icon-close" style="width:90px;margin-left:20px" />
							
							<p:outputLabel value="Länge der Vorschau:"/>
							<p:inputNumber value="#{createPost.vorschauLength}" symbol=" Zeichen" decimalPlaces="0" symbolPosition="s" thousandSeparator="" style="margin-left:20px"/>
						</h:panelGrid>
						
						<br/><hr/>
					
						<h2 class="title" style="color:#4c4c4c;">Layout</h2>
						
						<div class="ui-g">
				    		<div class="ui-g-2">
				    			<br/><br/><br/><br/><p:outputLabel value="Beitrag" style="margin-left:50px;"/>
				    		</div>
				    		<div class="ui-g-10">
				    			<div onclick="rcNewLB0()" class="layout-div #{createPost.layout.styleClassBeitrag0}" style="background-image: url(resources/img/layout_beitrag_0.png); height:200px;" />
			    				<div onclick="rcNewLB1()" class="layout-div #{createPost.layout.styleClassBeitrag1}" style="background-image: url(resources/img/layout_beitrag_1.png); height:200px;" />
								<div onclick="rcNewLB2()" class="layout-div #{createPost.layout.styleClassBeitrag2}" style="background-image: url(resources/img/layout_beitrag_2.png); height:200px;" />
				    		</div>
			    		</div>
			    		
			    		<div class="ui-g">
				    		<div class="ui-g-2">
				    			<br/><br/><p:outputLabel value="Vorschau" style="margin-left:50px;"/>
				    		</div>
				    		<div class="ui-g-10">
				    			<div onclick="rcNewLV0()" class="layout-div #{createPost.layout.styleClassVorschau0}" style="background-image: url(resources/img/layout_vorschau_0.png); height:100px;" />
			    				<div onclick="rcNewLV1()" class="layout-div #{createPost.layout.styleClassVorschau1}" style="background-image: url(resources/img/layout_vorschau_1.png); height:100px;" />
								<div onclick="rcNewLV2()" class="layout-div #{createPost.layout.styleClassVorschau2}" style="background-image: url(resources/img/layout_vorschau_2.png); height:100px;" />
				    		</div>
			    		</div>
			    		
			    		<br/><hr/>
						
						<br/>
						
						<p:remoteCommand name="rcNewLB0" actionListener="#{createPost.layout.selectLayoutBeitrag(0)}" update="new message"/>
						<p:remoteCommand name="rcNewLB1" actionListener="#{createPost.layout.selectLayoutBeitrag(1)}" update="new message"/>
						<p:remoteCommand name="rcNewLB2" actionListener="#{createPost.layout.selectLayoutBeitrag(2)}" update="new message"/>
						<p:remoteCommand name="rcNewLV0" actionListener="#{createPost.layout.selectLayoutVorschau(0)}" update="new message"/>
						<p:remoteCommand name="rcNewLV1" actionListener="#{createPost.layout.selectLayoutVorschau(1)}" update="new message"/>
						<p:remoteCommand name="rcNewLV2" actionListener="#{createPost.layout.selectLayoutVorschau(2)}" update="new message"/>
						 
						<p:remoteCommand name="rcNewVorschau" actionListener="#{createPost.prepareVorschau}" oncomplete="PF('overlayVorschau').show()" update="panelVorschau"/>
						<p:remoteCommand name="rcNew" actionListener="#{createPost.create}" update="beitrag message"
											onstart="PF('overlayLoad').show()" oncomplete="PF('overlayLoad').hide();scrollTop();"/>
					</h:form>
					<h:form enctype="multipart/form-data" id="newFiles" rendered="#{postManager.selectID eq 3}">	
						<h2 class="title" style="color:#4c4c4c;display: inline-block;">Bilder</h2>
						
						<p:selectBooleanButton value="#{createPost.fileHandler.vorschauAnsicht}" update="newFiles" onLabel="Bilder-Ansicht" offLabel="Info-Ansicht" onIcon="ui-icon-image" offIcon="ui-icon-contact"
												style="margin-top:-100px;margin-left:40px;width:180px">
							<p:ajax update="newFiles" listener="#{konfig.toggle}" />
						</p:selectBooleanButton>
						<h:panelGrid columns="2">
							<!--  Bilder  -->
							<p:outputLabel/>
							
							<p:scrollPanel mode="native" style="margin-left:50px;width:770px;height:300px">
								<p:dataTable value="#{createPost.fileHandler.filesAdded}" var="r" rendered="#{!createPost.fileHandler.vorschauAnsicht}" emptyMessage="Keine Dateien ausgewählt">
									<p:column headerText="Dateiname">
										<h:graphicImage value="/images/?id=#{r.datei_name_mit_id}" width="140"/>
										#{r.datei_name}
									</p:column>
								
									<p:column style="text-align: center;" headerText="Hochladedatum">
										#{r.datum}
									</p:column>
									
									<p:column style="text-align: center;" headerText="Größe">
										#{r.size}
									</p:column>
									
									<p:column style="text-align: center;" headerText="Von">
										#{r.eigtum}
									</p:column>
									
									<p:column headerText="Aktionen">
										<p:commandButton value="Entfernen" action="#{createPost.removeFile(r)}" update="newFiles"/>
									</p:column>
								</p:dataTable>
								<p:dataTable value="#{createPost.fileHandler.bildReiheAdded}" var="t" rendered="#{createPost.fileHandler.vorschauAnsicht}" emptyMessage="Keine Dateien ausgewählt">
									<p:column style="text-align: center;">
										<p:commandLink update="newFiles" action="#{createPost.removeFile(t.bilder[0])}">
											<h:graphicImage rendered="#{not empty t.bilder[0]}" value="/images/?id=#{t.bilder[0].datei_name_mit_id}" width="140"/>
										</p:commandLink>
										
										<p:outputLabel rendered="#{not empty t.bilder[0]}" value="#{t.bilder[0].datei_name}"/>
									</p:column>
								
									<p:column style="text-align: center;">
										<p:commandLink update="newFiles" action="#{createPost.removeFile(t.bilder[1])}">
											<h:graphicImage rendered="#{not empty t.bilder[1]}" value="/images/?id=#{t.bilder[1].datei_name_mit_id}" width="140"/>
										</p:commandLink>
										<p:outputLabel rendered="#{not empty t.bilder[1]}" value="#{t.bilder[1].datei_name}"/>
									</p:column>
									
									<p:column style="text-align: center;">
										<p:commandLink update="newFiles" action="#{createPost.removeFile(t.bilder[2])}">
											<h:graphicImage rendered="#{not empty t.bilder[2]}" value="/images/?id=#{t.bilder[2].datei_name_mit_id}" width="140"/>
										</p:commandLink>
										
										<p:outputLabel rendered="#{not empty t.bilder[2]}" value="#{t.bilder[2].datei_name}"/>
									</p:column>
									
									<p:column style="text-align: center;">
										<p:commandLink update="newFiles" action="#{createPost.removeFile(t.bilder[3])}">
											<h:graphicImage rendered="#{not empty t.bilder[3]}" value="/images/?id=#{t.bilder[3].datei_name_mit_id}" width="140"/>
										</p:commandLink>
										<p:outputLabel rendered="#{not empty t.bilder[3]}" value="#{t.bilder[3].datei_name}"/>
									</p:column>
								</p:dataTable>
							</p:scrollPanel>
							<p:outputLabel value="angehängte Bilder"/>
							
							<p:fileUpload fileUploadListener="#{createPost.upload}" style="margin-left:50px"
									update="newFiles message" mode="advanced" dragDropSupport="true"  label="Datei auswählen"
									uploadLabel="Hochladen" cancelLabel="Abbrechen"
									allowTypes="/(\.|\/)(gif|png|jpg|jpeg|bmp)$/"
									multiple="true" sequential="true"
									invalidFileMessage="Nur gif-, png-, bmp- und jpg-Dateien sind erlaubt"/>
							<p:outputLabel value="neues Bild hochladen"/>
							
							<p:dataTable value="#{createPost.fileHandler.filesAvailable}" var="r" rendered="#{!createPost.fileHandler.vorschauAnsicht}" emptyMessage="Keine Dateien vorhanden"
									style="margin-left:50px;width:770" scrollRows="5" scrollable="true" liveScroll="true" scrollHeight="300">
								<p:column headerText="Datei">
									<h:graphicImage value="/images/?id=#{r.datei_name_mit_id}" width="140"/>
									#{r.datei_name}
								</p:column>
							
								<p:column style="text-align: center;" headerText="Hochladedatum">
									#{r.datum}
								</p:column>
								
								<p:column style="text-align: center;" headerText="Größe">
									#{r.size}
								</p:column>
								
								<p:column style="text-align: center;" headerText="Von">
									#{r.eigtum}
								</p:column>
								
								<p:column headerText="Aktionen">
								<p:commandButton value="Hinzufügen" action="#{createPost.addFile(r)}" update="newFiles"/>
							</p:column>
							</p:dataTable>
							<p:dataTable value="#{createPost.fileHandler.bildReiheAvailable}" var="t" rendered="#{createPost.fileHandler.vorschauAnsicht}" emptyMessage="Keine Dateien vorhanden"
									style="margin-left:50px;width:770" scrollRows="2" scrollable="true" liveScroll="true" scrollHeight="300">
								<p:column style="text-align: center;" width="140">
									<p:commandLink update="newFiles" action="#{createPost.addFile(t.bilder[0])}">
										<h:graphicImage rendered="#{not empty t.bilder[0]}" value="/images/?id=#{t.bilder[0].datei_name_mit_id}" width="140"/>
									</p:commandLink>
									<br/>
									<p:outputLabel rendered="#{not empty t.bilder[0]}" value="#{t.bilder[0].datei_name}"/>
								</p:column>
							
								<p:column style="text-align: center;" width="140">
									<p:commandLink update="newFiles" action="#{createPost.addFile(t.bilder[1])}">
										<h:graphicImage rendered="#{not empty t.bilder[1]}" value="/images/?id=#{t.bilder[1].datei_name_mit_id}" width="140"/>
									</p:commandLink>
									<br/>
									<p:outputLabel rendered="#{not empty t.bilder[1]}" value="#{t.bilder[1].datei_name}"/>
								</p:column>
								
								<p:column style="text-align: center;" width="140">
									<p:commandLink update="newFiles" action="#{createPost.addFile(t.bilder[2])}">
										<h:graphicImage rendered="#{not empty t.bilder[2]}" value="/images/?id=#{t.bilder[2].datei_name_mit_id}" width="140"/>
									</p:commandLink>
									<br/>
									<p:outputLabel rendered="#{not empty t.bilder[2]}" value="#{t.bilder[2].datei_name}"/>
								</p:column>
								
								<p:column style="text-align: center;" width="140">
									<p:commandLink update="newFiles" action="#{createPost.addFile(t.bilder[3])}">
										<h:graphicImage rendered="#{not empty t.bilder[3]}" value="/images/?id=#{t.bilder[3].datei_name_mit_id}" width="140"/>
									</p:commandLink>
									<br/>
									<p:outputLabel rendered="#{not empty t.bilder[3]}" value="#{t.bilder[3].datei_name}"/>
								</p:column>
							</p:dataTable>
							<p:outputLabel value="verfügbare Bilder"/>
						</h:panelGrid>
						
						<br/><br/>
						
						<hr/>
						
						<br/>
						
						<div align="right">
						
							<p:commandButton style="margin-right:20px;flow:left;" type="button" onclick="rcNewVorschau()" value="Vorschau anzeigen" icon="fa fa-eye" />
							<p:commandButton style="margin-right:90px" type="button" onclick="rcNew()" value="Beitrag erstellen" icon="ui-icon-pencil"/>

							<br/><br/>
							<p:outputLabel style="margin-right:90px" value="Dieser Beitrag wird zuerst vom Admin überprüft und dann erst genehmigt."/>
							<br/>
							<p:outputLabel style="margin-right:90px" value="Missbrauch führt zur Sperrung des Accounts."/>
						</div>
						<br/>
						<p:outputLabel style="margin-left:50px;color:red;" value="#{createPost.hint}" rendered="#{not empty createPost.hint}"/>
					</h:form>
					
<!-- Ab hier beginnt cms.EditImpressum (KONTAKT/IMPRESSUM/COPYRIGHT BEARBEITEN, ADMIN-ONLY) -->
					
					<h:form id="impressum" rendered="#{postManager.selectID eq 5}">
						<br/>
						<p:outputLabel style="color:#4c4c4c;font-size:20pt;font-weight:bold;" value="Auswahl" />
						<br/>
						<br/>
						<p:selectOneMenu value="#{editImpressum.mode}" style="width:300px;" effect="none">
							<p:ajax listener="#{editImpressum.select}" update="impressum" />
							<f:selectItem itemLabel="Text auswählen" itemValue="" noSelectionOption="true" />
							<f:selectItems value="#{editImpressum.modes}" />
						</p:selectOneMenu>
						<br/><br/>
						<p:outputLabel style="color:#4c4c4c;font-size:20pt;font-weight:bold;" value="Inhalt" rendered="#{editImpressum.selected}"/>
						<br/>
						
						<!-- Zusatzinfos -->
						<p:outputLabel style="color:#4c4c4c;font-size:12pt;" value="Der Titel &quot;#{editImpressum.mode}&quot; ist vorgegeben."
										rendered="#{editImpressum.selected and editImpressum.selectedInt le 1}"/>
						<p:outputLabel style="color:#4c4c4c;font-size:12pt;" value="Der Copyright-Text wird unterhalb von 'Kontakt | Impressum | Sitemap' angezeigt."
										rendered="#{editImpressum.selected and editImpressum.selectedInt eq 2}"/>
						
						<h:panelGroup layout="block" rendered="#{editImpressum.selected and editImpressum.selectedInt eq 3}">
							<p:outputLabel style="color:#4c4c4c;font-size:12pt;" value="Dieser Text wird in 'Informationen' unter 'Über die Entwicklung' angezeigt."/>
							<br/>
							<p:outputLabel style="color:#4c4c4c;font-size:12pt;" value="Es wird ausgeblendet, wenn der Inhalt leer ist."/>
						</h:panelGroup>
						
						<h:panelGroup layout="block" rendered="#{editImpressum.selected and editImpressum.selectedInt eq 4}">
							<p:outputLabel style="color:#4c4c4c;font-size:12pt;" value="Der Live-Ticker wird auf der Homepage über den Beiträgen angezeigt."/>
							<br/>
							<p:outputLabel style="color:#4c4c4c;font-size:12pt;" value="Es wird ausgeblendet, wenn der Inhalt leer ist. Es wird nur der unformatierte Text gespeichert."/>
						</h:panelGroup>
						
						<h:panelGroup layout="block" rendered="#{editImpressum.selected and editImpressum.selectedInt eq 5}">
							<p:outputLabel style="color:#4c4c4c;font-size:12pt;" value="Die Geschichte erreicht man über das Klicken auf das Stephaneum-Logo auf der linken Seite."/>
							<br/>
							<p:outputLabel style="color:#4c4c4c;font-size:12pt;" value="a) Link, dann bitte mit 'http' anfangen"/>
							<br/>
							<p:outputLabel style="color:#4c4c4c;font-size:12pt;" value="b) (sonst) interne Lösung"/>
						</h:panelGroup>
						
						<h:panelGroup layout="block" rendered="#{editImpressum.selected and editImpressum.selectedInt eq 6}">
							<p:outputLabel style="color:#4c4c4c;font-size:12pt;" value="Die Seite erreicht man über das Klicken auf das Stephaneum-Logo auf der linken Seite."/>
							<br/>
							<p:outputLabel style="color:#4c4c4c;font-size:12pt;" value="a) Link, dann bitte mit 'http' anfangen"/>
							<br/>
							<p:outputLabel style="color:#4c4c4c;font-size:12pt;" value="b) (sonst) interne Lösung"/>
						</h:panelGroup>
						
						<h:panelGroup layout="block" rendered="#{editImpressum.selected and editImpressum.selectedInt eq 7}">
							<p:outputLabel style="color:#4c4c4c;font-size:12pt;" value="Hier können Sie Termine eintragen."/>
							<br/>
							<p:outputLabel style="color:#4c4c4c;font-size:12pt;font-weight:bold" value="Format: Von - Bis, Beschreibung URL"/>
							<br/>
							<p:outputLabel style="color:#4c4c4c;font-size:12pt;" value="Beispiel 1: 25.03.2019, Fest"/>
							<br/>
							<p:outputLabel style="color:#4c4c4c;font-size:12pt;" value="Beispiel 2: 25.03.2019 19:30, Fest https://www.stephaneum700.de"/>
							<br/>
							<p:outputLabel style="color:#4c4c4c;font-size:12pt;" value="Beispiel 3: 25.03.2019 - 27.03.2019, Fest"/>
							<br/>
							<p:outputLabel style="color:#4c4c4c;font-size:12pt;font-weight:bold" value="Nullen z.B. bei '07' müssen mitgeschrieben werden!"/>
						</h:panelGroup>
						
						<h:panelGroup layout="block" rendered="#{editImpressum.selected and editImpressum.selectedInt eq 8}">
							<p:outputLabel style="color:#4c4c4c;font-size:12pt;" value="Mehrere Kooperationspartner mit Semikolon (;) trennen"/>
							<br/>
							<p:outputLabel style="color:#4c4c4c;font-size:12pt;" value="Tooltips können mit runden Klammern und Links mit eckigen Klammern gekennzeichnet werden"/>
							<br/>
							<p:outputLabel style="color:#4c4c4c;font-size:12pt;" value="Falls keine Partner angegeben, wird der Bereich versteckt."/>
							<br/>
							<p:outputLabel style="color:#4c4c4c;font-size:12pt;font-weight:bold" value="Beispiel: Partner(Briefkontakte)[http://google.de]"/>
						</h:panelGroup>
						
						<h:panelGroup layout="block" rendered="#{editImpressum.selected and editImpressum.selectedInt eq 9}">
							<p:outputLabel style="color:#4c4c4c;font-size:12pt;" value="Bitte URL eingeben. Relative Links sind erlaubt."/>
							<br/>
							<p:outputLabel style="color:#4c4c4c;font-size:12pt;" value="Falls keine URL angegeben, wird der Button versteckt."/>
						</h:panelGroup>
							
						<br/><br/>
						
						<p:textEditor value="#{editImpressum.text}" height="500" style="margin-bottom:10px" rendered="#{editImpressum.selected}" placeholder="Textinhalt">
						    <f:facet name="toolbar">
						        <span class="ql-formats">
						            <button class="ql-bold"></button>
						            <button class="ql-italic"></button>
						            <button class="ql-underline"></button>
						            <button class="ql-strike"></button>
						        </span>
						        <span class="ql-formats">
						        	<select class="ql-color"></select>
						            <select class="ql-background"></select>
						        </span>
						        <span class="ql-formats">
						        	<button class="ql-script" value="sub"></button>
						            <button class="ql-script" value="super"></button>
						        </span>
						        <span class="ql-formats">
						            <select class="ql-font"></select>
						            <select class="ql-size"></select>
						        </span>
						        <span class="ql-formats">
						        	<button class="ql-header" value="1"></button>
						            <button class="ql-header" value="2"></button>
						        </span>
						        <span class="ql-formats">
						        	<button class="ql-list" value="ordered"></button>
						            <button class="ql-list" value="bullet"></button>
						            <select class="ql-align"></select>
						        </span>
						        <span class="ql-formats">
						        	<button class="ql-indent" value="-1"></button>
						            <button class="ql-indent" value="+1"></button>
						        </span>
						        <span class="ql-formats">
						        	<button class="ql-link"></button>
						        	<button class="ql-clean"></button>
						        </span>
						    </f:facet>
						</p:textEditor>
						<br/>
						
						<div style="text-align:right">
							<p:commandButton value="Text speichern" action="#{editImpressum.edit}" update="beitrag message" rendered="#{editImpressum.selected}" icon="ui-icon-disk" />
						</div>
						
						<br/>
					</h:form>
					
<!-- Vorschau: wird von der gesamten Seite zugegriffen -->

					<p:dialog id="panelVorschau" header="Vorschau" widgetVar="overlayVorschau" modal="true" resizable="false" closeOnEscape="true">
						
						<p:scrollPanel mode="native" style="width:950px;height:85vh;">
							<div style="padding-left:30px;padding-right:30px">
								<br/>
								<p:outputLabel value="#{vorschauPost.titel}" style="font-size:16pt;text-decoration: underline;"/>
								<br/>
								<br/>
								<br/>
			
		<!-- Keine Bilder? Standard-Layout ! -->					
								<h:panelGroup layout="block" rendered="#{empty vorschauPost.addedFiles}">
									<h:outputText style="word-wrap: break-word;" escape="false" value="#{vorschauPost.text}"/>
									<br/>
									<h:outputText value="#{vorschauPost.autorString}" rendered="#{vorschauPost.showAutor}"/>
								</h:panelGroup>
								
		<!-- Layouts  -->		<h:panelGroup layout="block" rendered="#{not empty vorschauPost.addedFiles}">
		<!-- Layout 0  -->
									<p:panelGrid styleClass="beitrag-text-div" rendered="#{vorschauPost.layoutBeitrag eq 0}">
										<p:row style="border: none !important;background: transparent !important;">
											<p:column styleClass="beitrag-text-div-1" style="border: none !important;vertical-align: top;" border="0">
												<h:outputText escape="false" value="#{vorschauPost.text}"/>
												<br/>
												<h:outputText value="#{vorschauPost.autorString}" rendered="#{vorschauPost.showAutor}"/>
											</p:column>
											<p:column style="width:250px;border: none !important;vertical-align: top;">
												
												<p:lightBox > 
													<ui:repeat var="p" value="#{vorschauPost.addedFiles}">
														<h:outputLink value="images/?id=#{p.datei_name_mit_id}" title="#{p.datei_name_ohne_endung}">
															<h:graphicImage value="/images/?id=#{p.datei_name_mit_id}" style="width: 250px" />
															<div align="right">
																<p:outputLabel value="#{p.datei_name_ohne_endung}" />
																<br/><br/>
															</div>
														</h:outputLink>
													</ui:repeat>
												</p:lightBox>
													
											</p:column>
										</p:row>
									</p:panelGrid>
		<!-- Layout 1  -->
									<h:panelGroup layout="block" rendered="#{vorschauPost.layoutBeitrag eq 1}">
										<h:outputText style="word-wrap: break-word;" escape="false" value="#{vorschauPost.text}"/>
										<br/>
										<h:outputText value="#{vorschauPost.autorString}" rendered="#{vorschauPost.showAutor}"/>
										<br/><br/>
										<div style="text-align:center">
											<p:lightBox> 
												<ui:repeat var="r" value="#{vorschauPost.addedFiles}">
													<h:outputLink value="images/?id=#{r.datei_name_mit_id}" title="#{r.datei_name_ohne_endung}">
														<h:graphicImage value="/images/?id=#{r.datei_name_mit_id}" style="width: 250px;margin-left:10px;margin-right:10px;margin-top:10px;margin-bottom:10px" />
													</h:outputLink>
												</ui:repeat>
											</p:lightBox>
										</div>
									</h:panelGroup>
		<!-- Layout 2  -->
									<h:panelGroup layout="block" rendered="#{vorschauPost.layoutBeitrag eq 2}">
										<br/>
										<h:panelGroup layout="block" style="margin:auto; text-align: center" rendered="#{vorschauPost.dateiList.size() eq 1}">
											<!-- only one picture -->
											<div style="display: inline-block; width: 600px">
												<h:graphicImage value="images/?id=#{vorschauPost.dateiList[0].datei_name_mit_id}" alt="#{vorschauPost.dateiList[0].datei_name_ohne_endung}" style="width: 100%; border-radius: 10px"/>
												<div style="text-align: right">
													<p style="margin: 0 20px 0 0">#{vorschauPost.dateiList[0].datei_name_ohne_endung}</p>
												</div>
											</div>

										</h:panelGroup>
										<h:panelGroup layout="block" style="margin:auto" rendered="#{vorschauPost.dateiList.size() ne 1}">

											<p:galleria style="margin-left:25px" value="#{vorschauPost.dateiList}" var="image" panelWidth="800" panelHeight="500" showCaption="true">
												<h:graphicImage value="images/?id=#{image.datei_name_mit_id}" alt="#{image.datei_name_ohne_endung}" title="" width="790"/>
											</p:galleria>
											<br/>
										</h:panelGroup>
										<br/><br/>
										<h:outputText style="word-wrap: break-word;" escape="false" value="#{vorschauPost.text}"/>
										<br/>
										<h:outputText value="#{vorschauPost.autorString}" rendered="#{vorschauPost.showAutor}"/>
										
									</h:panelGroup>
								</h:panelGroup>
							
								<br/><br/><br/><br/>
								
								<hr/>
								
								<br/><br/>
								
								<h2 class="title" >Vorschau auf der Startseite</h2>
								<br/>
								<br/>
									
			<!-- Titel, Datum (und 'bearbeitet von) sind gleich, egal mit oder ohne Bilder -->
								<h:outputLabel value="#{vorschauPost.titel}" style="font-size:16pt; text-decoration: underline"/>
								<br/>
								<br/><br/>
								
			<!-- Keine Bilder? Standard-Layout ! -->						
								<h:panelGroup layout="block" rendered="#{empty vorschauPost.addedFiles}">
									<br/>
									<h:outputText style="word-wrap: break-word;" escape="false" value="#{vorschauPost.vorschauText}" />
									<br/>
									<p style="text-align: right;">
										<h:outputLabel value="weiterlesen" style="font-size:12pt"/>
									</p>
								</h:panelGroup>
								
								<h:panelGroup layout="block" rendered="#{not empty vorschauPost.addedFiles}">
			<!-- Layout 0 -->
									<p:panelGrid styleClass="beitrag-text-div" rendered="#{vorschauPost.layoutVorschau eq 0}">
										<p:row style="border: none !important;background: transparent !important;">
											<p:column styleClass="beitrag-text-div-1" style="border: none !important;" border="0">
												<h:outputText escape="false" value="#{vorschauPost.vorschauText}"/>
												<br/>
												<p style="text-align: right;">
													<h:outputLabel value="weiterlesen" style="font-size:12pt"/>
												</p>
											</p:column>
											<p:column style="text-align:right;width:150px;border: none !important;vertical-align: top;overflow:hidden">
												<p:graphicImage url="images/?id=#{vorschauPost.addedFiles[0].datei_name_mit_id}" style="width: 150px;"/>
											</p:column>
										</p:row>
									</p:panelGrid>
			<!-- Layout 1 -->
									<h:panelGroup layout="block" rendered="#{vorschauPost.layoutVorschau eq 1}">
										<br/>
										<div style="text-align:center">
											<ui:repeat var="s" value="#{vorschauPost.bilder5}">
												<p:graphicImage url="images/?id=#{s.datei_name_mit_id}" style="width: 150px;margin-left:10px;margin-right:10px;"/>
											</ui:repeat>
										</div>
										<br/>
										<p style="text-align: right;">
											<h:outputLabel value="öffnen" style="font-size:12pt"/>
										</p>
									</h:panelGroup>
									
			<!-- Layout 2 -->
									<h:panelGroup layout="block" rendered="#{vorschauPost.layoutVorschau eq 2}">
										<br/>
										<div style="text-align:center">
											<ui:repeat var="s" value="#{vorschauPost.bilder5}">
												<p:graphicImage url="images/?id=#{s.datei_name_mit_id}" style="width: 150px;margin-left:10px;margin-right:10px;"/>
											</ui:repeat>
										</div>
										<br/>
										<h:outputText style="word-wrap: break-word;" escape="false" value="#{vorschauPost.vorschauText}" />
										<br/>
										<p style="text-align: right;">
											<h:outputLabel value="weiterlesen" style="font-size:12pt"/>
										</p>
									</h:panelGroup>	
								</h:panelGroup>
								<br/><br/>
							</div>
						</p:scrollPanel>
					</p:dialog>
					
	<!-- Passwort-Belegung -->

					<p:dialog id="panelPassword" header="Passwort-Belegung" widgetVar="overlayPassword" modal="true" resizable="false" closeOnEscape="true">
						<br/>
						<h:form>
							Nutzer müssen das Passwort eingeben, um den Inhalt des Beitrags zu lesen.
							<br/><br/>
							<div style="text-align:center">
					            <p:password style="width:230px"
								value="#{editPost.password}"
								placeholder="Passwort"
								required="true"
								requiredMessage="Bitte Passwort eingeben"/>
								<p:commandButton value="Passwort festlegen" action="#{editPost.updatePassword}" oncomplete="PF('overlayPassword').hide();bindStyles();" update="panelPassword beitrag message" style="margin-left:10px"/>   
							</div>
							
						</h:form>
						<br/><br/><br/>
					</p:dialog>

					<p:dialog widgetVar="overlayBeta" modal="true" draggable="false" closable="false" resizable="false" showHeader="false">
						<h2 class="title" style="text-align:center">Beta wird geöffnet</h2>
						<p:graphicImage url="resources/img/ajax-loader.gif" />
					</p:dialog>
					
					<p:dialog widgetVar="overlayLoad" modal="true" draggable="false" closable="false" resizable="false" showHeader="false">
						<h2 class="title" style="text-align:center">Verarbeitung</h2>
					    <p:graphicImage url="resources/img/ajax-loader.gif" />
					</p:dialog>
					
					<p:dialog widgetVar="overlayOpenBeitrag" modal="true" draggable="false" closable="false" resizable="false" showHeader="false">
						<h2 class="title" style="text-align:center">Beitrag wird geladen</h2>
						<p:graphicImage url="resources/img/ajax-loader.gif" />
					</p:dialog>
				</p:panel>
				<br/>
			</p:panel>
			<br/>
			<div id="bottom">
				<h:link outcome="kontakt" styleClass="ui-link ui-widget" style="font-size:10pt;color:#125100;text-decoration:none;" value="Kontakt"/>
				<p:outputLabel style="font-size:10pt" value=" | "/>
				<h:link outcome="impressum" styleClass="ui-link ui-widget" style="font-size:10pt;color:#125100;text-decoration:none;" value="Impressum"/>
				<p:outputLabel style="font-size:10pt" value=" | "/>
				<h:link outcome="sitemap" styleClass="ui-link ui-widget" style="font-size:10pt;color:#125100;text-decoration:none;" value="Sitemap"/>
				<br/><br/>
				<h:outputText style="font-size:12pt;word-wrap: break-word;" escape="false" value="#{konfig.bottomText}"/>
			</div>
			<br/>
		</div>
	</h:body>
</html>